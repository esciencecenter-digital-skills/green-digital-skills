[{"_path":"/modules/environmental_impact/slides_energy_budget","_dir":"environmental_impact","_draft":false,"_partial":false,"_locale":"","title":"Energy Budget","description":"===","type":"slides","order":2,"_type":"markdown","_id":"local_fs:modules:environmental_impact:slides_energy_budget.md","_source":"local_fs","_file":"modules/environmental_impact/slides_energy_budget.md","_extension":"md","plainText":"---\ntitle: Energy Budget\ntype: slides\norder: 2\n---\n\n<!-- .slide: data-state=\"title\" -->\n\n# Energy Budget\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Growing energy use\n\n![Energy consumption](media/ICT_EnergyConsumption_Jones_2018.png)\n\nNote:\n\nAs researchers, we are not always aware of the cost and energy\nrequirements (thus CO2 eq.) of the compute we use daily.\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Data centre metrics\n- Power Usage Effectiveness (PUE)\n- Quantifies overhead. Gives you e.g. how much cooling power you need per unit of compute\n- Best data centers are now down to about 10% extra for cooling. Used to be around 100%.\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## PUE of datacenter\n\nModern data centers only need about 10% extra power\nfor cooling and such on top of the compute required power.\n\nPUE = P_{total} / P_{compute}\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Energy Carbon intensity\n- Carbon intensity has a large spatial and temporal variability.\n- Extreme differences between countries\n- Countries with very low carbon intensity (e.g. Norway): 20g per kWh\n- Countries with high carbon intensity (e.g. Australia): 700g per kWh\n- You can make a big difference by running the exact same thing on the same hardware, but in a different country\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n# Typical footprint\n- Carbon footprint of data centres anually is around 100 MT of CO2 equivalent\n  - That is the same as the entire US aviation in the same time.\n  - Not all these data centres are doing HPC\n- About 500 Tonnes of CO2 estimated for training GPT3\n  - IPC says we should aim for 2 tonnes of CO2 per person per year to keep global warming in check. \n  - Not every model has such huge impacts, but we need to be mindful\n\nNote:\n\n\n\n===\n\n<!-- .slide: data-state=\"empty-slide\" data-background-iframe=\"https://app.electricitymaps.com/map\" -->\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n# Dutch specific energy mix\n\n[Nowtricity](https://www.nowtricity.com/country/netherlands)\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Contributions\n\n- Computing carbon footprint can be split into two main contributions:\n  - *Embodied*: from raw material extraction, to distribution\n  - *Usage*: Powering, memory\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Manufacturing and amortizing\n  - Production -> delivery -> usage -> recycle\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Typical values of energy\n\n| Energy (J) | Examples | Equ. gCO2 |\n| :-------- | -------: |--------:|\n| 1.0e0 | ???? | |\n| 1.0e1 | ???? | |\n| 1.0e2 | ???? | |\n| 1.0e3 (kJ) | ???? | |\n| 1.0e4 | ???? | |\n| 1.0e5 | ???? | |\n| 1.0e6 (MJ) | ???? | |\n| 3.6e6 (1 kWh)| ???? | 305 |\n| 1.0e7 | ???? | |\n| 1.0e8 | ???? | |\n| 1.0e9 (0.27 MWh) | ???? | |\n\nNote:\n\nDo you have a feel for how much 1 Joule actually is?\nPress down arrow to see the examples for different orders of magnitude.\n\n==\n\n## Typical values of energy\n\n| Energy (J) | Examples | Equ. gCO2 |\n| :-------- | -------: |--------:|\n| 1.0e0 | Lift an apple to your mouth | |\n| 1.0e1 |  | |\n| 1.0e2 |  | |\n| 1.0e3 (kJ) | Standby LED (0.3W) for 1 hour | |\n| 1.0e4 | LED-based lightbulb (3W) for 1 hour | |\n| 1.0e5 | 15 mn bike ride | |\n| 1.0e6 (MJ) | ~ 2km drive | |\n| 3.6e6 (1 kWh)|  | 305 |\n| 1.0e7 | Human energy need per day | |\n| 1.0e8 | Averaged daily cons. of NL home | |\n| 1.0e9 (0.27 MWh) | Round trip flight AMS-LON for 2 | |\n\n\n===\n\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Power consumption of computing hardware\n\nCPU power over years: increase\nGPU power over years: increase\n\nScaling by Flops\n- Modern CPU are drawing more power, but getting more flops/W\n- GPU introduce a further jump in flops/W\n\nExample of Snellius: same amount of flops for 1/5 of the power\nwhen using GPUs (Ben slides)\n\n-> Using modern hardware help reduce energy consumption\n-> balancing act between amortizing embodied carbon and decreased\nenergy efficiency (comparatively) over time\n\nNote:\n\n===\n\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Cluster/server energy usage\n\nStatic power draw:\n - memory\n - network card\n - CPU leakage current ~ # of cores\nis not proportional to compute.\nOnce the server is built and in use, maximizing occupancy\nincrease the power efficiency as static power draw is\namortized.\n\nNote:\n\n===\n\n## CPU energy usage\n\nCPU increased clock rate to squeeze more Flops out.\nInitialy amortizes the leakage current, so more\nenergy efficient.\n\nAs clockrate increase, power increase too but not at\na linear rate because the voltage in the circuit needs to\nbe increased too in order to send signal faster.\nPower ~ P_0 + k * V^2 * f_c (sort of)\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## What is too much energy?\n- Do the potential benefits outweigh the environmental costs?\n- **We should think of energy (or CO2) the same way we think of money**\n  - What matters is the _cost-benefit_ ratio\n  - Is €1M a lot? Not if it leads to curing a major disease\n- Currently researchers are used to making the scientific case for the money they request\n- They should also be able to make the case for the corresponding carbon footprint\n- The energy and carbon cost can often be hidden or abstracted from the researcher's perspective\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Estimating impact\n- Loïc Lannelongue started a project called Green Algorithms: \n- Made a calculator to estimate energy cost and carbon footprint of your algorithm\n- Necessary for assessing how to make computing more environmentally sustainable\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## The GREENER framework\n- A set of principles for green computing analogous to the FAIR principles for data\n- GREENER:\n  - **G**overnance\n  - **R**esponsibility\n  - **E**stimations: Use calculators to estimate impact of the computing\n  - **N**ew collaboration\n  - **E**ducation: Need to include the notion that it has a carbon footprint during training of new researchers\n  - **R**esearch: Still don't know a lot about computing power usage\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## The online calculator\n\n<img src=\"media/green-algorithms-calculator-example.png\" />\n\n- The Green Algorithms online calculator makes it quick and easy to estimate the carbon footprint\n- Can be found here: <http://calculator.green-algorithms.org/>\n- There is also a Green Algorithms tool for HPC\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"empty-slide\" data-background-iframe=\"http://calculator.green-algorithms.org/\" -->\n\n===\n\n<!-- .slide: data-state=\"standard\" -->\n\n## Yet more paperwork?\n\n- Is this just more work for researchers when filling out grant applications?\n- All applications must estimate the environmental impact of their models.\n- They did this in France and researchers still applied. The Green Algorithms Calculator was required to be used for the applications. Researchers accepted it was a fair request and still continued applying.\n- If a project is cheap financially, but has a large carbon cost, there should be an explicit justification why\n\nNote:\n\n===\n\n<!-- .slide: data-state=\"keepintouch\" -->\n\nwww.esciencecenter.nl\n\ninfo@esciencecenter.nl\n\n020 - 460 47 70\n"},{"_path":"/modules/environmental_impact/useful_links","_dir":"environmental_impact","_draft":false,"_partial":false,"_locale":"","title":"Useful links","description":"","type":"reading","order":3,"_type":"markdown","_id":"local_fs:modules:environmental_impact:useful_links.md","_source":"local_fs","_file":"modules/environmental_impact/useful_links.md","_extension":"md","plainText":"---\ntitle: Useful links\ntype: reading\norder: 3\n---\n\n## Reading material\n* <https://www.green-algorithms.org/>\n* <https://www.green-algorithms.org/GA4HPC/>\n* <https://en.wikichip.org/w/images/8/83/Intel_Architecture%2C_Code_Name_Skylake_Deep_Dive-_A_New_Architecture_to_Manage_Power_Performance_and_Energy_Efficiency.pdf>\n* <https://www.sciencedirect.com/science/article/pii/S1364032123002794?ssrnid=4258869&dgcid=SSRN_redirect_SD>\n* <https://greenict.fi/en/greenict_producerguide/>\n\n## Listening material\n* <https://codeforthought.buzzsprout.com/1326658/14838208-en-make-computing-greener-loic-lannelongue>\n\n## Useful links\n* <https://www.nowtricity.com/country/netherlands/>\n"}]