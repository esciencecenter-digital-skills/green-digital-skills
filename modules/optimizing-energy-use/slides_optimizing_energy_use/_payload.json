[{"data":1,"prerenderedAt":444},["Reactive",2],{"content-query-rjnmBlzztt":3,"content-query-AT44bg6JPw":386},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"type":10,"order":11,"body":12,"_type":380,"_id":381,"_source":382,"_file":383,"_extension":384,"plainText":385},"/modules/optimizing-energy-use/slides_optimizing_energy_use","optimizing-energy-use",false,"","Optimizing in Practice","===","slides",1,{"type":13,"children":14,"toc":369},"root",[15,24,29,36,41,56,61,65,71,84,88,92,98,146,150,154,160,165,173,178,183,193,197,201,207,233,237,241,247,280,284,288,294,299,304,310,314,318,324,329,335,339,343,355,364],{"type":16,"tag":17,"props":18,"children":20},"element","h1",{"id":19},"optimizing-energy-use-in-practice",[21],{"type":22,"value":23},"text","Optimizing Energy Use in Practice",{"type":16,"tag":25,"props":26,"children":27},"p",{},[28],{"type":22,"value":9},{"type":16,"tag":30,"props":31,"children":33},"h2",{"id":32},"good-software-practice",[34],{"type":22,"value":35},"Good software practice",{"type":16,"tag":25,"props":37,"children":38},{},[39],{"type":22,"value":40},"Clean and maintainable software is essential\nto sustainable/green software:",{"type":16,"tag":42,"props":43,"children":44},"ul",{},[45,51],{"type":16,"tag":46,"props":47,"children":48},"li",{},[49],{"type":22,"value":50},"ease of use, reduce error during data settings",{"type":16,"tag":46,"props":52,"children":53},{},[54],{"type":22,"value":55},"less bugs, avoid wasteful bugged runs",{"type":16,"tag":25,"props":57,"children":58},{},[59],{"type":22,"value":60},"Note:",{"type":16,"tag":25,"props":62,"children":63},{},[64],{"type":22,"value":9},{"type":16,"tag":30,"props":66,"children":68},{"id":67},"software-life-cycle",[69],{"type":22,"value":70},"Software life cycle",{"type":16,"tag":42,"props":72,"children":73},{},[74,79],{"type":16,"tag":46,"props":75,"children":76},{},[77],{"type":22,"value":78},"Thinking about long term sustainability, documentation.",{"type":16,"tag":46,"props":80,"children":81},{},[82],{"type":22,"value":83},"Reusable software is a key component of modern\nsoftware development, reducing the time/energy consuming\ntask of developing every component of complex softwares.",{"type":16,"tag":25,"props":85,"children":86},{},[87],{"type":22,"value":60},{"type":16,"tag":25,"props":89,"children":90},{},[91],{"type":22,"value":9},{"type":16,"tag":30,"props":93,"children":95},{"id":94},"what-language-should-i-use",[96],{"type":22,"value":97},"What language should I use?",{"type":16,"tag":42,"props":99,"children":100},{},[101,119,124],{"type":16,"tag":46,"props":102,"children":103},{},[104,106],{"type":22,"value":105},"Typical conception of energy efficiency:\n",{"type":16,"tag":42,"props":107,"children":108},{},[109,114],{"type":16,"tag":46,"props":110,"children":111},{},[112],{"type":22,"value":113},"C++ and Rust at the top",{"type":16,"tag":46,"props":115,"children":116},{},[117],{"type":22,"value":118},"Python and R at the bottom",{"type":16,"tag":46,"props":120,"children":121},{},[122],{"type":22,"value":123},"There is a lot of truth in this but there are a lot of important considerations",{"type":16,"tag":46,"props":125,"children":126},{},[127,133],{"type":16,"tag":128,"props":129,"children":130},"strong",{},[131],{"type":22,"value":132},"Many major numerical libraries in Python are not Python \"under the surface\"",{"type":16,"tag":42,"props":134,"children":135},{},[136,141],{"type":16,"tag":46,"props":137,"children":138},{},[139],{"type":22,"value":140},"The core is usually C++ or something like that.",{"type":16,"tag":46,"props":142,"children":143},{},[144],{"type":22,"value":145},"e.g. PyTorch, Tensorflow, numpy (and many others)",{"type":16,"tag":25,"props":147,"children":148},{},[149],{"type":22,"value":60},{"type":16,"tag":25,"props":151,"children":152},{},[153],{"type":22,"value":9},{"type":16,"tag":30,"props":155,"children":157},{"id":156},"right-tool-for-each-task",[158],{"type":22,"value":159},"Right tool for each task",{"type":16,"tag":25,"props":161,"children":162},{},[163],{"type":22,"value":164},"Are there slow programming languages that should be\navoided ?",{"type":16,"tag":42,"props":166,"children":167},{},[168],{"type":16,"tag":46,"props":169,"children":170},{},[171],{"type":22,"value":172},"each tool has it's purpose.\nPython: great for stitching pieces together, easy prototyping\nC/C++/Fortran: better at crunching number fast, but not\nso good at doing string manipulation, ...",{"type":16,"tag":25,"props":174,"children":175},{},[176],{"type":22,"value":177},"Benchmark available in the litterature can be missleading.",{"type":16,"tag":25,"props":179,"children":180},{},[181],{"type":22,"value":182},"-> Use the right tool for each task (could simply be the\ntool you're confortable with), blending languages\nwhen necessary.",{"type":16,"tag":184,"props":185,"children":186},"center",{},[187],{"type":16,"tag":188,"props":189,"children":192},"img",{"src":190,"width":191},"media/fig-dummy.png","55%",[],{"type":16,"tag":25,"props":194,"children":195},{},[196],{"type":22,"value":60},{"type":16,"tag":25,"props":198,"children":199},{},[200],{"type":22,"value":9},{"type":16,"tag":30,"props":202,"children":204},{"id":203},"what-software-should-we-optimize",[205],{"type":22,"value":206},"What software should we optimize?",{"type":16,"tag":42,"props":208,"children":209},{},[210,218,223,228],{"type":16,"tag":46,"props":211,"children":212},{},[213],{"type":16,"tag":128,"props":214,"children":215},{},[216],{"type":22,"value":217},"It is important that frequently used tools are as efficient as possible",{"type":16,"tag":46,"props":219,"children":220},{},[221],{"type":22,"value":222},"Your single-use analysis scripts probably don't matter so much - just use the easiest language for the job",{"type":16,"tag":46,"props":224,"children":225},{},[226],{"type":22,"value":227},"Optimization is not free and costs development time (and energy) especially in lower level languages like C",{"type":16,"tag":46,"props":229,"children":230},{},[231],{"type":22,"value":232},"Generally there are not enough RSEs to do all the coding and optimizations, and researchers don't have time",{"type":16,"tag":25,"props":234,"children":235},{},[236],{"type":22,"value":60},{"type":16,"tag":25,"props":238,"children":239},{},[240],{"type":22,"value":9},{"type":16,"tag":30,"props":242,"children":244},{"id":243},"minimizing-energy-use",[245],{"type":22,"value":246},"Minimizing energy use",{"type":16,"tag":42,"props":248,"children":249},{},[250,255,260,265,270,275],{"type":16,"tag":46,"props":251,"children":252},{},[253],{"type":22,"value":254},"Ultimately depends on the resources you use",{"type":16,"tag":46,"props":256,"children":257},{},[258],{"type":22,"value":259},"Number of CPU cores is clearly a large contributor",{"type":16,"tag":46,"props":261,"children":262},{},[263],{"type":22,"value":264},"Carbon footprint of memory is interesting - it doesn't matter how much you use, but how much is available. Don't request 10 times the memory you need on a server \"just in case\"",{"type":16,"tag":46,"props":266,"children":267},{},[268],{"type":22,"value":269},"Think about WHEN we run a job on a server. Energy mix different at different times.",{"type":16,"tag":46,"props":271,"children":272},{},[273],{"type":22,"value":274},"Can use tools such as the Carbon Aware Task Scheduler - tells you what is the best time to run in the next 48 hours.",{"type":16,"tag":46,"props":276,"children":277},{},[278],{"type":22,"value":279},"Most jobs have some flexibility - we don't care if we run it right now or in a few hours. Especially over the weekend.",{"type":16,"tag":25,"props":281,"children":282},{},[283],{"type":22,"value":60},{"type":16,"tag":25,"props":285,"children":286},{},[287],{"type":22,"value":9},{"type":16,"tag":30,"props":289,"children":291},{"id":290},"energy-usage",[292],{"type":22,"value":293},"Energy usage",{"type":16,"tag":25,"props":295,"children":296},{},[297],{"type":22,"value":298},"Energy is power * time -> as first approximation,\nmore efficient (faster) software will be energy efficient.",{"type":16,"tag":25,"props":300,"children":301},{},[302],{"type":22,"value":303},"A note on parallelism and scaling issue.",{"type":16,"tag":184,"props":305,"children":306},{},[307],{"type":16,"tag":188,"props":308,"children":309},{"src":190,"width":191},[],{"type":16,"tag":25,"props":311,"children":312},{},[313],{"type":22,"value":60},{"type":16,"tag":25,"props":315,"children":316},{},[317],{"type":22,"value":9},{"type":16,"tag":30,"props":319,"children":321},{"id":320},"how-to-measure",[322],{"type":22,"value":323},"How to measure",{"type":16,"tag":25,"props":325,"children":326},{},[327],{"type":22,"value":328},"introducing PMT (Python) / RJoules (R) / EAR (language agnostic).",{"type":16,"tag":184,"props":330,"children":331},{},[332],{"type":16,"tag":188,"props":333,"children":334},{"src":190,"width":191},[],{"type":16,"tag":25,"props":336,"children":337},{},[338],{"type":22,"value":60},{"type":16,"tag":25,"props":340,"children":341},{},[342],{"type":22,"value":9},{"type":16,"tag":25,"props":344,"children":345},{},[346],{"type":16,"tag":347,"props":348,"children":352},"a",{"href":349,"rel":350},"http://www.esciencecenter.nl",[351],"nofollow",[353],{"type":22,"value":354},"www.esciencecenter.nl",{"type":16,"tag":25,"props":356,"children":357},{},[358],{"type":16,"tag":347,"props":359,"children":361},{"href":360},"mailto:info@esciencecenter.nl",[362],{"type":22,"value":363},"info@esciencecenter.nl",{"type":16,"tag":25,"props":365,"children":366},{},[367],{"type":22,"value":368},"020 - 460 47 70",{"title":7,"searchDepth":370,"depth":370,"links":371},2,[372,373,374,375,376,377,378,379],{"id":32,"depth":370,"text":35},{"id":67,"depth":370,"text":70},{"id":94,"depth":370,"text":97},{"id":156,"depth":370,"text":159},{"id":203,"depth":370,"text":206},{"id":243,"depth":370,"text":246},{"id":290,"depth":370,"text":293},{"id":320,"depth":370,"text":323},"markdown","local_fs:modules:optimizing-energy-use:slides_optimizing_energy_use.md","local_fs","modules/optimizing-energy-use/slides_optimizing_energy_use.md","md","---\ntitle: Optimizing in Practice\ntype: slides\norder: 1\n---\n\n\u003C!-- .slide: data-state=\"title\" -->\n\n# Optimizing Energy Use in Practice\n\n===\n\n\u003C!-- .slide: data-state=\"standard\" -->\n\n## Good software practice\n\nClean and maintainable software is essential\nto sustainable/green software:\n - ease of use, reduce error during data settings\n - less bugs, avoid wasteful bugged runs\n\nNote:\n\n===\n\n\u003C!-- .slide: data-state=\"standard\" -->\n\n## Software life cycle\n\n- Thinking about long term sustainability, documentation.\n- Reusable software is a key component of modern\nsoftware development, reducing the time/energy consuming\ntask of developing every component of complex softwares.\n\nNote:\n\n===\n\n\u003C!-- .slide: data-state=\"standard\" -->\n\n## What language should I use?\n- Typical conception of energy efficiency:\n  - C++ and Rust at the top\n  - Python and R at the bottom\n- There is a lot of truth in this but there are a lot of important considerations\n- **Many major numerical libraries in Python are not Python \"under the surface\"**\n  - The core is usually C++ or something like that.\n  - e.g. PyTorch, Tensorflow, numpy (and many others)\n\nNote:\n\n===\n\n\u003C!-- .slide: data-state=\"standard\" -->\n\n## Right tool for each task\n\nAre there slow programming languages that should be\navoided ?\n - each tool has it's purpose.\nPython: great for stitching pieces together, easy prototyping\nC/C++/Fortran: better at crunching number fast, but not\nso good at doing string manipulation, ...\n\nBenchmark available in the litterature can be missleading.\n\n-> Use the right tool for each task (could simply be the \ntool you're confortable with), blending languages\nwhen necessary.\n\n\u003Ccenter>\n\u003Cimg src=\"media/fig-dummy.png\" width=\"55%\">\n\u003C/center>\n\nNote:\n\n===\n\n\n\u003C!-- .slide: data-state=\"standard\" -->\n\n## What software should we optimize?\n- **It is important that frequently used tools are as efficient as possible**\n- Your single-use analysis scripts probably don't matter so much - just use the easiest language for the job\n- Optimization is not free and costs development time (and energy) especially in lower level languages like C\n- Generally there are not enough RSEs to do all the coding and optimizations, and researchers don't have time\n\nNote:\n\n===\n\n\u003C!-- .slide: data-state=\"standard\" -->\n\n## Minimizing energy use\n- Ultimately depends on the resources you use\n- Number of CPU cores is clearly a large contributor\n- Carbon footprint of memory is interesting - it doesn't matter how much you use, but how much is available. Don't request 10 times the memory you need on a server \"just in case\"\n- Think about WHEN we run a job on a server. Energy mix different at different times.\n- Can use tools such as the Carbon Aware Task Scheduler - tells you what is the best time to run in the next 48 hours.\n- Most jobs have some flexibility - we don't care if we run it right now or in a few hours. Especially over the weekend.\n\nNote:\n\n===\n\n\u003C!-- .slide: data-state=\"standard\" -->\n\n## Energy usage\n\nEnergy is power * time -> as first approximation,\nmore efficient (faster) software will be energy efficient.\n\nA note on parallelism and scaling issue.\n\n\u003Ccenter>\n\u003Cimg src=\"media/fig-dummy.png\" width=\"55%\">\n\u003C/center>\n\nNote:\n\n===\n\n## How to measure\n\nintroducing PMT (Python) / RJoules (R) / EAR (language agnostic).\n\n\n\u003Ccenter>\n\u003Cimg src=\"media/fig-dummy.png\" width=\"55%\">\n\u003C/center>\n\nNote:\n\n===\n\n\u003C!-- .slide: data-state=\"keepintouch\" -->\n\n\nwww.esciencecenter.nl\n\ninfo@esciencecenter.nl\n\n020 - 460 47 70\n",[387,422],{"_path":388,"_dir":389,"_draft":6,"_partial":6,"_locale":7,"title":390,"description":7,"body":391,"_type":380,"_id":419,"_source":382,"_file":420,"_extension":384,"plainText":421},"/main/about","main","About",{"type":13,"children":392,"toc":415},[393,399,404,410],{"type":16,"tag":30,"props":394,"children":396},{"id":395},"about-this-lessonproject",[397],{"type":22,"value":398},"About this lesson/project",{"type":16,"tag":25,"props":400,"children":401},{},[402],{"type":22,"value":403},"Provide details about the project and lesson.",{"type":16,"tag":30,"props":405,"children":407},{"id":406},"target-audience",[408],{"type":22,"value":409},"Target audience",{"type":16,"tag":25,"props":411,"children":412},{},[413],{"type":22,"value":414},"Define target audience for this material.",{"title":7,"searchDepth":370,"depth":370,"links":416},[417,418],{"id":395,"depth":370,"text":398},{"id":406,"depth":370,"text":409},"local_fs:main:about.md","main/about.md","---\ntitle: About\n---\n\n## About this lesson/project\n\nProvide details about the project and lesson.\n\n## Target audience\n\nDefine target audience for this material.",{"_path":423,"_dir":389,"_draft":6,"_partial":6,"_locale":7,"title":424,"description":7,"body":425,"_type":380,"_id":441,"_source":382,"_file":442,"_extension":384,"plainText":443},"/main/contribute","Contribute",{"type":13,"children":426,"toc":438},[427,433],{"type":16,"tag":30,"props":428,"children":430},{"id":429},"contributing-to-this-lesson",[431],{"type":22,"value":432},"Contributing to this lesson",{"type":16,"tag":25,"props":434,"children":435},{},[436],{"type":22,"value":437},"Add contributing guidelines for you project.",{"title":7,"searchDepth":370,"depth":370,"links":439},[440],{"id":429,"depth":370,"text":432},"local_fs:main:contribute.md","main/contribute.md","---\ntitle: Contribute\n---\n\n## Contributing to this lesson\n\nAdd contributing guidelines for you project.",1723652472815]