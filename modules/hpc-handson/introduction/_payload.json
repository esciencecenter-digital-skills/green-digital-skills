[{"data":1,"prerenderedAt":253},["ShallowReactive",2],{"content-query-6qEpUqoMn2":3,"content-query-AT44bg6JPw":165},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":7,"type":9,"order":10,"body":11,"_type":158,"_id":159,"_source":160,"_file":161,"_stem":162,"_extension":163,"plainText":164},"/modules/hpc-handson/introduction","hpc-handson",false,"","Introduction","reading",3,{"type":12,"children":13,"toc":152},"root",[14,23,52,58,98,103,108,113,126,135,142,147],{"type":15,"tag":16,"props":17,"children":19},"element","h1",{"id":18},"energy-aware-runtime-ear-monitoring-tutorial",[20],{"type":21,"value":22},"text","Energy Aware Runtime (EAR) Monitoring Tutorial",{"type":15,"tag":24,"props":25,"children":26},"blockquote",{},[27,41],{"type":15,"tag":28,"props":29,"children":30},"p",{},[31,33],{"type":21,"value":32},"EAR documentation for use on Snellius here: ",{"type":15,"tag":34,"props":35,"children":39},"a",{"href":36,"rel":37},"https://servicedesk.surf.nl/wiki/pages/viewpage.action?pageId=62226671",[38],"nofollow",[40],{"type":21,"value":36},{"type":15,"tag":28,"props":42,"children":43},{},[44,46],{"type":21,"value":45},"EAR full documentation can be found here ",{"type":15,"tag":34,"props":47,"children":50},{"href":48,"rel":49},"https://gitlab.bsc.es/ear_team/ear/-/wikis/home",[38],[51],{"type":21,"value":48},{"type":15,"tag":16,"props":53,"children":55},{"id":54},"section-outline",[56],{"type":21,"value":57},"Section Outline",{"type":15,"tag":59,"props":60,"children":61},"ol",{},[62,71,80,89],{"type":15,"tag":63,"props":64,"children":65},"li",{},[66],{"type":15,"tag":34,"props":67,"children":69},{"href":68},"introduction",[70],{"type":21,"value":8},{"type":15,"tag":63,"props":72,"children":73},{},[74],{"type":15,"tag":34,"props":75,"children":77},{"href":76},"earl",[78],{"type":21,"value":79},"EARL",{"type":15,"tag":63,"props":81,"children":82},{},[83],{"type":15,"tag":34,"props":84,"children":86},{"href":85},"tools",[87],{"type":21,"value":88},"Tools",{"type":15,"tag":63,"props":90,"children":91},{},[92],{"type":15,"tag":34,"props":93,"children":95},{"href":94},"exercises",[96],{"type":21,"value":97},"Exercises",{"type":15,"tag":99,"props":100,"children":101},"h2",{"id":68},[102],{"type":21,"value":8},{"type":15,"tag":28,"props":104,"children":105},{},[106],{"type":21,"value":107},"The Energy Aware Runtime (EAR) package provides an energy management framework for super computers. This tutorial covers the \"end-user\" experience with EAR.",{"type":15,"tag":28,"props":109,"children":110},{},[111],{"type":21,"value":112},"EAR usage on Snellius can be decomposed into two \"services.\"",{"type":15,"tag":59,"props":114,"children":115},{},[116,121],{"type":15,"tag":63,"props":117,"children":118},{},[119],{"type":21,"value":120},"The EAR library (EARL): EARL is loaded (at runtime) when launching an application through the EAR Loader (EARLO) and SLURM plugin (EARPLUG). The EARL provides functionality to monitor energy (and performance) metrics of an application and additionally the ability to select the optimal CPU frequency according to the application and the node characteristics.",{"type":15,"tag":63,"props":122,"children":123},{},[124],{"type":21,"value":125},"Tools: Which include Job accounting (via the command eacct) which queries energy information of a particular job or list of jobs from the the EAR database (EAR DB) on Snellius.",{"type":15,"tag":28,"props":127,"children":128},{},[129],{"type":15,"tag":130,"props":131,"children":134},"img",{"alt":132,"src":133},"EAR_configuration","/modules/hpc-handson/media/EAR_config.png",[],{"type":15,"tag":136,"props":137,"children":139},"h3",{"id":138},"eard-node-manager",[140],{"type":21,"value":141},"EARD: Node Manager",{"type":15,"tag":28,"props":143,"children":144},{},[145],{"type":21,"value":146},"The node daemon is the component in charge of providing any kind of services that requires privileged capabilities. Current version is conceived as an external process executed with root privileges.\nThe EARD provides the following services, each one covered by one thread:",{"type":15,"tag":28,"props":148,"children":149},{},[150],{"type":21,"value":151},"Provides privileged metrics to EARL such as the average frequency, uncore integrated memory controller counters to compute the memory bandwidth, as well as energy metrics (DC node, DRAM and package energy).\nImplements a periodic power monitoring service. This service allows EAR package to control the total energy consumed in the system.\nOffers a remote API used by EARplug, EARGM and EAR commands. This API accepts requests such as get the system status, change policy settings or notify new job/end job events.",{"title":7,"searchDepth":153,"depth":153,"links":154},2,[155],{"id":68,"depth":153,"text":8,"children":156},[157],{"id":138,"depth":10,"text":141},"markdown","local_fs:modules:hpc-handson:introduction.md","local_fs","modules/hpc-handson/introduction.md","modules/hpc-handson/introduction","md","---\ntitle: Introduction\ntype: reading\norder: 3\n---\n\n# Energy Aware Runtime (EAR) Monitoring Tutorial\n\n>EAR documentation for use on Snellius here: https://servicedesk.surf.nl/wiki/pages/viewpage.action?pageId=62226671\n>\n>EAR full documentation can be found here https://gitlab.bsc.es/ear_team/ear/-/wikis/home\n\n# Section Outline\n\n1. [Introduction](introduction)\n2. [EARL](earl)\n3. [Tools](tools)\n4. [Exercises](exercises)\n\n## Introduction\n\nThe Energy Aware Runtime (EAR) package provides an energy management framework for super computers. This tutorial covers the \"end-user\" experience with EAR.\n\nEAR usage on Snellius can be decomposed into two \"services.\" \n\n1. The EAR library (EARL): EARL is loaded (at runtime) when launching an application through the EAR Loader (EARLO) and SLURM plugin (EARPLUG). The EARL provides functionality to monitor energy (and performance) metrics of an application and additionally the ability to select the optimal CPU frequency according to the application and the node characteristics. \n\n2. Tools: Which include Job accounting (via the command eacct) which queries energy information of a particular job or list of jobs from the the EAR database (EAR DB) on Snellius.\n\n![EAR_configuration](media/EAR_config.png)\n\n### EARD: Node Manager\nThe node daemon is the component in charge of providing any kind of services that requires privileged capabilities. Current version is conceived as an external process executed with root privileges.\nThe EARD provides the following services, each one covered by one thread:\n\nProvides privileged metrics to EARL such as the average frequency, uncore integrated memory controller counters to compute the memory bandwidth, as well as energy metrics (DC node, DRAM and package energy).\nImplements a periodic power monitoring service. This service allows EAR package to control the total energy consumed in the system.\nOffers a remote API used by EARplug, EARGM and EAR commands. This API accepts requests such as get the system status, change policy settings or notify new job/end job events.\n",[166,230],{"_path":167,"_dir":168,"_draft":6,"_partial":6,"_locale":7,"title":169,"description":7,"body":170,"_type":158,"_id":226,"_source":160,"_file":227,"_stem":228,"_extension":163,"plainText":229},"/main/about","main","About",{"type":12,"children":171,"toc":222},[172,178,183,188,211,217],{"type":15,"tag":99,"props":173,"children":175},{"id":174},"about-the-green-digital-skills-course",[176],{"type":21,"value":177},"About the Green Digital Skills course",{"type":15,"tag":28,"props":179,"children":180},{},[181],{"type":21,"value":182},"In this course, we want to equip the attendees with\na basic knowledge of the link from digital and computational science to energy consumption, and\neventually equivalent CO2 emissions.",{"type":15,"tag":28,"props":184,"children":185},{},[186],{"type":21,"value":187},"The course material consists of two parts:",{"type":15,"tag":189,"props":190,"children":191},"ul",{},[192,206],{"type":15,"tag":63,"props":193,"children":194},{},[195,197,204],{"type":21,"value":196},"a lecture, in three chapters, introducing the general topic of ",{"type":15,"tag":198,"props":199,"children":201},"code",{"className":200},[],[202],{"type":21,"value":203},"green",{"type":21,"value":205}," computing",{"type":15,"tag":63,"props":207,"children":208},{},[209],{"type":21,"value":210},"a set of hands-on exercises, covering general good practices for software development, and tools for measuring energy and CO2 emissions on your laptop or on HPC clusters",{"type":15,"tag":99,"props":212,"children":214},{"id":213},"target-audience",[215],{"type":21,"value":216},"Target audience",{"type":15,"tag":28,"props":218,"children":219},{},[220],{"type":21,"value":221},"The target audience for this course includes, but is not limited to, students, reseachers,\ndata scientists, and IT support staff performing computational science, handling data, or\nusing/developing scientific software.",{"title":7,"searchDepth":153,"depth":153,"links":223},[224,225],{"id":174,"depth":153,"text":177},{"id":213,"depth":153,"text":216},"local_fs:main:about.md","main/about.md","main/about","---\ntitle: About\n---\n\n## About the Green Digital Skills course\n\nIn this course, we want to equip the attendees with\na basic knowledge of the link from digital and computational science to energy consumption, and\neventually equivalent CO2 emissions.\n\nThe course material consists of two parts: \n - a lecture, in three chapters, introducing the general topic of `green` computing\n - a set of hands-on exercises, covering general good practices for software development, and tools for measuring energy and CO2 emissions on your laptop or on HPC clusters \n\n\n## Target audience\n\nThe target audience for this course includes, but is not limited to, students, reseachers,\ndata scientists, and IT support staff performing computational science, handling data, or\nusing/developing scientific software.\n",{"_path":231,"_dir":168,"_draft":6,"_partial":6,"_locale":7,"title":232,"description":7,"body":233,"_type":158,"_id":249,"_source":160,"_file":250,"_stem":251,"_extension":163,"plainText":252},"/main/contribute","Contribute",{"type":12,"children":234,"toc":246},[235,241],{"type":15,"tag":99,"props":236,"children":238},{"id":237},"contributing-to-this-lesson",[239],{"type":21,"value":240},"Contributing to this lesson",{"type":15,"tag":28,"props":242,"children":243},{},[244],{"type":21,"value":245},"Add contributing guidelines for you project.",{"title":7,"searchDepth":153,"depth":153,"links":247},[248],{"id":237,"depth":153,"text":240},"local_fs:main:contribute.md","main/contribute.md","main/contribute","---\ntitle: Contribute\n---\n\n## Contributing to this lesson\n\nAdd contributing guidelines for you project.",1732130167362]