<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Code Carbon in R</title>
<style>@import url("https://fonts.googleapis.com/css?family=Nunito");@import url("https://fonts.googleapis.com/css?family=Nunito:bold");@import url("https://fonts.googleapis.com/css?family=Nunito:semibold");@import url("https://fonts.googleapis.com/css?family=Assistant");@import url("https://fonts.googleapis.com/icon?family=Material+Icons");
/*!
* reveal.js 5.1.0
* https://revealjs.com
* MIT licensed
*
* Copyright (C) 2011-2024 Hakim El Hattab, https://hakim.se
*/.reveal .r-stretch,.reveal .stretch{max-height:none;max-width:none}.reveal pre.r-stretch code,.reveal pre.stretch code{box-sizing:border-box;height:100%;max-height:100%}.reveal .r-fit-text{display:inline-block;white-space:nowrap}.reveal .r-stack{display:grid;grid-template-rows:100%}.reveal .r-stack>*{grid-area:1/1;margin:auto}.reveal .r-hstack,.reveal .r-vstack{display:flex}.reveal .r-hstack img,.reveal .r-hstack video,.reveal .r-vstack img,.reveal .r-vstack video{min-height:0;min-width:0;-o-object-fit:contain;object-fit:contain}.reveal .r-vstack{flex-direction:column}.reveal .r-hstack,.reveal .r-vstack{align-items:center;justify-content:center}.reveal .r-hstack{flex-direction:row}.reveal .items-stretch{align-items:stretch}.reveal .items-start{align-items:flex-start}.reveal .items-center{align-items:center}.reveal .items-end{align-items:flex-end}.reveal .justify-between{justify-content:space-between}.reveal .justify-around{justify-content:space-around}.reveal .justify-start{justify-content:flex-start}.reveal .justify-center{justify-content:center}.reveal .justify-end{justify-content:flex-end}html.reveal-full-page{height:100%;height:100vh;height:calc(var(--vh,1vh)*100);height:100svh;overflow:hidden;width:100%}.reveal-viewport{background-color:#fff;color:#000;height:100%;line-height:1;margin:0;overflow:hidden;position:relative;--r-controls-spacing:12px}.reveal-viewport:fullscreen{height:100%!important;left:0!important;top:0!important;transform:none!important;width:100%!important}.reveal .fragment{transition:all .2s ease}.reveal .fragment:not(.custom){opacity:0;visibility:hidden;will-change:opacity}.reveal .fragment.visible{opacity:1;visibility:inherit}.reveal .fragment.disabled{transition:none}.reveal .fragment.grow{opacity:1;visibility:inherit}.reveal .fragment.grow.visible{transform:scale(1.3)}.reveal .fragment.shrink{opacity:1;visibility:inherit}.reveal .fragment.shrink.visible{transform:scale(.7)}.reveal .fragment.zoom-in{transform:scale(.1)}.reveal .fragment.zoom-in.visible{transform:none}.reveal .fragment.fade-out{opacity:1;visibility:inherit}.reveal .fragment.fade-out.visible{opacity:0;visibility:hidden}.reveal .fragment.semi-fade-out{opacity:1;visibility:inherit}.reveal .fragment.semi-fade-out.visible{opacity:.5;visibility:inherit}.reveal .fragment.strike{opacity:1;visibility:inherit}.reveal .fragment.strike.visible{text-decoration:line-through}.reveal .fragment.fade-up{transform:translateY(40px)}.reveal .fragment.fade-up.visible{transform:translate(0)}.reveal .fragment.fade-down{transform:translateY(-40px)}.reveal .fragment.fade-down.visible{transform:translate(0)}.reveal .fragment.fade-right{transform:translate(-40px)}.reveal .fragment.fade-right.visible{transform:translate(0)}.reveal .fragment.fade-left{transform:translate(40px)}.reveal .fragment.fade-left.visible{transform:translate(0)}.reveal .fragment.current-visible,.reveal .fragment.fade-in-then-out{opacity:0;visibility:hidden}.reveal .fragment.current-visible.current-fragment,.reveal .fragment.fade-in-then-out.current-fragment{opacity:1;visibility:inherit}.reveal .fragment.fade-in-then-semi-out{opacity:0;visibility:hidden}.reveal .fragment.fade-in-then-semi-out.visible{opacity:.5;visibility:inherit}.reveal .fragment.fade-in-then-semi-out.current-fragment,.reveal .fragment.highlight-blue,.reveal .fragment.highlight-current-blue,.reveal .fragment.highlight-current-green,.reveal .fragment.highlight-current-red,.reveal .fragment.highlight-green,.reveal .fragment.highlight-red{opacity:1;visibility:inherit}.reveal .fragment.highlight-red.visible{color:#ff2c2d}.reveal .fragment.highlight-green.visible{color:#17ff2e}.reveal .fragment.highlight-blue.visible{color:#1b91ff}.reveal .fragment.highlight-current-red.current-fragment{color:#ff2c2d}.reveal .fragment.highlight-current-green.current-fragment{color:#17ff2e}.reveal .fragment.highlight-current-blue.current-fragment{color:#1b91ff}.reveal:after{content:"";font-style:italic}.reveal iframe{z-index:1}.reveal a{position:relative}@keyframes bounce-right{0%,10%,25%,40%,50%{transform:translateX(0)}20%{transform:translateX(10px)}30%{transform:translateX(-5px)}}@keyframes bounce-left{0%,10%,25%,40%,50%{transform:translateX(0)}20%{transform:translateX(-10px)}30%{transform:translateX(5px)}}@keyframes bounce-down{0%,10%,25%,40%,50%{transform:translateY(0)}20%{transform:translateY(10px)}30%{transform:translateY(-5px)}}.reveal .controls{bottom:var(--r-controls-spacing);color:#000;display:none;font-size:10px;left:auto;pointer-events:none;position:absolute;right:var(--r-controls-spacing);top:auto;z-index:11}.reveal .controls button{-webkit-appearance:none;background-color:transparent;border:0;color:currentColor;cursor:pointer;font-size:inherit;opacity:0;outline:0;padding:0;pointer-events:auto;position:absolute;transform:scale(.9999);transition:color .2s ease,opacity .2s ease,transform .2s ease;visibility:hidden;z-index:2;-webkit-tap-highlight-color:transparent}.reveal .controls .controls-arrow:after,.reveal .controls .controls-arrow:before{background-color:currentColor;border-radius:.25em;content:"";height:.5em;left:0;position:absolute;top:0;transform-origin:.2em 50%;transition:all .15s ease,background-color .8s ease;width:2.6em;will-change:transform}.reveal .controls .controls-arrow{height:3.6em;position:relative;width:3.6em}.reveal .controls .controls-arrow:before{transform:translateX(.5em) translateY(1.55em) rotate(45deg)}.reveal .controls .controls-arrow:after{transform:translateX(.5em) translateY(1.55em) rotate(-45deg)}.reveal .controls .controls-arrow:hover:before{transform:translateX(.5em) translateY(1.55em) rotate(40deg)}.reveal .controls .controls-arrow:hover:after{transform:translateX(.5em) translateY(1.55em) rotate(-40deg)}.reveal .controls .controls-arrow:active:before{transform:translateX(.5em) translateY(1.55em) rotate(36deg)}.reveal .controls .controls-arrow:active:after{transform:translateX(.5em) translateY(1.55em) rotate(-36deg)}.reveal .controls .navigate-left{bottom:3.2em;right:6.4em;transform:translateX(-10px)}.reveal .controls .navigate-left.highlight{animation:bounce-left 2s ease-out 50 both}.reveal .controls .navigate-right{bottom:3.2em;right:0;transform:translateX(10px)}.reveal .controls .navigate-right .controls-arrow{transform:rotate(180deg)}.reveal .controls .navigate-right.highlight{animation:bounce-right 2s ease-out 50 both}.reveal .controls .navigate-up{bottom:6.4em;right:3.2em;transform:translateY(-10px)}.reveal .controls .navigate-up .controls-arrow{transform:rotate(90deg)}.reveal .controls .navigate-down{bottom:-1.4em;padding-bottom:1.4em;right:3.2em;transform:translateY(10px)}.reveal .controls .navigate-down .controls-arrow{transform:rotate(-90deg)}.reveal .controls .navigate-down.highlight{animation:bounce-down 2s ease-out 50 both}.reveal .controls[data-controls-back-arrows=faded] .navigate-up.enabled{opacity:.3}.reveal .controls[data-controls-back-arrows=faded] .navigate-up.enabled:hover{opacity:1}.reveal .controls[data-controls-back-arrows=hidden] .navigate-up.enabled{opacity:0;visibility:hidden}.reveal .controls .enabled{cursor:pointer;opacity:.9;transform:none;visibility:visible}.reveal .controls .enabled.fragmented{opacity:.5}.reveal .controls .enabled.fragmented:hover,.reveal .controls .enabled:hover{opacity:1}.reveal:not(.rtl) .controls[data-controls-back-arrows=faded] .navigate-left.enabled{opacity:.3}.reveal:not(.rtl) .controls[data-controls-back-arrows=faded] .navigate-left.enabled:hover{opacity:1}.reveal:not(.rtl) .controls[data-controls-back-arrows=hidden] .navigate-left.enabled{opacity:0;visibility:hidden}.reveal.rtl .controls[data-controls-back-arrows=faded] .navigate-right.enabled{opacity:.3}.reveal.rtl .controls[data-controls-back-arrows=faded] .navigate-right.enabled:hover{opacity:1}.reveal.rtl .controls[data-controls-back-arrows=hidden] .navigate-right.enabled{opacity:0;visibility:hidden}.reveal[data-navigation-mode=linear].has-horizontal-slides .navigate-down,.reveal[data-navigation-mode=linear].has-horizontal-slides .navigate-up{display:none}.reveal:not(.has-vertical-slides) .controls .navigate-left,.reveal[data-navigation-mode=linear].has-horizontal-slides .navigate-left{bottom:1.4em;right:5.5em}.reveal:not(.has-vertical-slides) .controls .navigate-right,.reveal[data-navigation-mode=linear].has-horizontal-slides .navigate-right{bottom:1.4em;right:.5em}.reveal:not(.has-horizontal-slides) .controls .navigate-up{bottom:5em;right:1.4em}.reveal:not(.has-horizontal-slides) .controls .navigate-down{bottom:.5em;right:1.4em}.reveal.has-dark-background .controls{color:#fff}.reveal.has-light-background .controls{color:#000}.reveal.no-hover .controls .controls-arrow:active:before,.reveal.no-hover .controls .controls-arrow:hover:before{transform:translateX(.5em) translateY(1.55em) rotate(45deg)}.reveal.no-hover .controls .controls-arrow:active:after,.reveal.no-hover .controls .controls-arrow:hover:after{transform:translateX(.5em) translateY(1.55em) rotate(-45deg)}@media screen and (min-width:500px){.reveal-viewport{--r-controls-spacing:0.8em}.reveal .controls[data-controls-layout=edges]{bottom:0;left:0;right:0;top:0}.reveal .controls[data-controls-layout=edges] .navigate-down,.reveal .controls[data-controls-layout=edges] .navigate-left,.reveal .controls[data-controls-layout=edges] .navigate-right,.reveal .controls[data-controls-layout=edges] .navigate-up{bottom:auto;right:auto}.reveal .controls[data-controls-layout=edges] .navigate-left{left:var(--r-controls-spacing);margin-top:-1.8em;top:50%}.reveal .controls[data-controls-layout=edges] .navigate-right{margin-top:-1.8em;right:var(--r-controls-spacing);top:50%}.reveal .controls[data-controls-layout=edges] .navigate-up{left:50%;margin-left:-1.8em;top:var(--r-controls-spacing)}.reveal .controls[data-controls-layout=edges] .navigate-down{bottom:calc(var(--r-controls-spacing) - 1.1em);left:50%;margin-left:-1.8em}}.reveal .progress{background-color:rgba(0,0,0,.2);bottom:0;color:#fff;display:none;height:3px;left:0;position:absolute;width:100%;z-index:10}.reveal .progress:after{content:"";display:block;height:10px;position:absolute;top:-10px;width:100%}.reveal .progress span{background-color:currentColor;display:block;height:100%;transform:scaleX(0);transform-origin:0 0;transition:transform .8s cubic-bezier(.26,.86,.44,.985);width:100%}.reveal .slide-number{background-color:rgba(0,0,0,.4);bottom:8px;color:#fff;display:block;font-family:Helvetica,sans-serif;font-size:12px;line-height:1;padding:5px;position:absolute;right:8px;z-index:31}.reveal .slide-number a{color:currentColor}.reveal .slide-number-delimiter{margin:0 3px}.reveal{height:100%;overflow:hidden;position:relative;touch-action:pinch-zoom;width:100%}.reveal.embedded{touch-action:pan-y}.reveal.embedded.is-vertical-slide{touch-action:none}.reveal .slides{bottom:0;height:100%;left:0;margin:auto;overflow:visible;perspective:600px;perspective-origin:50% 40%;pointer-events:none;position:absolute;right:0;text-align:center;top:0;width:100%;z-index:1}.reveal .slides>section{perspective:600px}.reveal .slides>section,.reveal .slides>section>section{display:none;pointer-events:auto;position:absolute;transform-style:flat;transition:transform-origin .8s cubic-bezier(.26,.86,.44,.985),transform .8s cubic-bezier(.26,.86,.44,.985),visibility .8s cubic-bezier(.26,.86,.44,.985),opacity .8s cubic-bezier(.26,.86,.44,.985);width:100%;z-index:10}.reveal[data-transition-speed=fast] .slides section{transition-duration:.4s}.reveal[data-transition-speed=slow] .slides section{transition-duration:1.2s}.reveal .slides section[data-transition-speed=fast]{transition-duration:.4s}.reveal .slides section[data-transition-speed=slow]{transition-duration:1.2s}.reveal .slides>section.stack{height:100%;padding-bottom:0;padding-top:0;pointer-events:none}.reveal .slides>section.present,.reveal .slides>section>section.present{display:block;opacity:1;z-index:11}.reveal .slides>section:empty,.reveal .slides>section>section:empty,.reveal .slides>section>section[data-background-interactive],.reveal .slides>section[data-background-interactive]{pointer-events:none}.reveal.center,.reveal.center .slides,.reveal.center .slides section{min-height:0!important}.reveal .slides>section:not(.present),.reveal .slides>section>section:not(.present){pointer-events:none}.reveal.overview .slides>section,.reveal.overview .slides>section>section{pointer-events:auto}.reveal .slides>section.future,.reveal .slides>section.future>section,.reveal .slides>section.past,.reveal .slides>section.past>section,.reveal .slides>section>section.future,.reveal .slides>section>section.past{opacity:0}.reveal .slides>section[data-transition=slide].past,.reveal .slides>section[data-transition~=slide-out].past,.reveal.slide .slides>section:not([data-transition]).past{transform:translate(-150%)}.reveal .slides>section[data-transition=slide].future,.reveal .slides>section[data-transition~=slide-in].future,.reveal.slide .slides>section:not([data-transition]).future{transform:translate(150%)}.reveal .slides>section>section[data-transition=slide].past,.reveal .slides>section>section[data-transition~=slide-out].past,.reveal.slide .slides>section>section:not([data-transition]).past{transform:translateY(-150%)}.reveal .slides>section>section[data-transition=slide].future,.reveal .slides>section>section[data-transition~=slide-in].future,.reveal.slide .slides>section>section:not([data-transition]).future{transform:translateY(150%)}.reveal .slides>section[data-transition=linear].past,.reveal .slides>section[data-transition~=linear-out].past,.reveal.linear .slides>section:not([data-transition]).past{transform:translate(-150%)}.reveal .slides>section[data-transition=linear].future,.reveal .slides>section[data-transition~=linear-in].future,.reveal.linear .slides>section:not([data-transition]).future{transform:translate(150%)}.reveal .slides>section>section[data-transition=linear].past,.reveal .slides>section>section[data-transition~=linear-out].past,.reveal.linear .slides>section>section:not([data-transition]).past{transform:translateY(-150%)}.reveal .slides>section>section[data-transition=linear].future,.reveal .slides>section>section[data-transition~=linear-in].future,.reveal.linear .slides>section>section:not([data-transition]).future{transform:translateY(150%)}.reveal .slides section[data-transition=default].stack,.reveal.default .slides section.stack{transform-style:preserve-3d}.reveal .slides>section[data-transition=default].past,.reveal .slides>section[data-transition~=default-out].past,.reveal.default .slides>section:not([data-transition]).past{transform:translate3d(-100%,0,0) rotateY(-90deg) translate3d(-100%,0,0)}.reveal .slides>section[data-transition=default].future,.reveal .slides>section[data-transition~=default-in].future,.reveal.default .slides>section:not([data-transition]).future{transform:translate3d(100%,0,0) rotateY(90deg) translate3d(100%,0,0)}.reveal .slides>section>section[data-transition=default].past,.reveal .slides>section>section[data-transition~=default-out].past,.reveal.default .slides>section>section:not([data-transition]).past{transform:translate3d(0,-300px,0) rotateX(70deg) translate3d(0,-300px,0)}.reveal .slides>section>section[data-transition=default].future,.reveal .slides>section>section[data-transition~=default-in].future,.reveal.default .slides>section>section:not([data-transition]).future{transform:translate3d(0,300px,0) rotateX(-70deg) translate3d(0,300px,0)}.reveal .slides section[data-transition=convex].stack,.reveal.convex .slides section.stack{transform-style:preserve-3d}.reveal .slides>section[data-transition=convex].past,.reveal .slides>section[data-transition~=convex-out].past,.reveal.convex .slides>section:not([data-transition]).past{transform:translate3d(-100%,0,0) rotateY(-90deg) translate3d(-100%,0,0)}.reveal .slides>section[data-transition=convex].future,.reveal .slides>section[data-transition~=convex-in].future,.reveal.convex .slides>section:not([data-transition]).future{transform:translate3d(100%,0,0) rotateY(90deg) translate3d(100%,0,0)}.reveal .slides>section>section[data-transition=convex].past,.reveal .slides>section>section[data-transition~=convex-out].past,.reveal.convex .slides>section>section:not([data-transition]).past{transform:translate3d(0,-300px,0) rotateX(70deg) translate3d(0,-300px,0)}.reveal .slides>section>section[data-transition=convex].future,.reveal .slides>section>section[data-transition~=convex-in].future,.reveal.convex .slides>section>section:not([data-transition]).future{transform:translate3d(0,300px,0) rotateX(-70deg) translate3d(0,300px,0)}.reveal .slides section[data-transition=concave].stack,.reveal.concave .slides section.stack{transform-style:preserve-3d}.reveal .slides>section[data-transition=concave].past,.reveal .slides>section[data-transition~=concave-out].past,.reveal.concave .slides>section:not([data-transition]).past{transform:translate3d(-100%,0,0) rotateY(90deg) translate3d(-100%,0,0)}.reveal .slides>section[data-transition=concave].future,.reveal .slides>section[data-transition~=concave-in].future,.reveal.concave .slides>section:not([data-transition]).future{transform:translate3d(100%,0,0) rotateY(-90deg) translate3d(100%,0,0)}.reveal .slides>section>section[data-transition=concave].past,.reveal .slides>section>section[data-transition~=concave-out].past,.reveal.concave .slides>section>section:not([data-transition]).past{transform:translate3d(0,-80%,0) rotateX(-70deg) translate3d(0,-80%,0)}.reveal .slides>section>section[data-transition=concave].future,.reveal .slides>section>section[data-transition~=concave-in].future,.reveal.concave .slides>section>section:not([data-transition]).future{transform:translate3d(0,80%,0) rotateX(70deg) translate3d(0,80%,0)}.reveal .slides section[data-transition=zoom],.reveal.zoom .slides section:not([data-transition]){transition-timing-function:ease}.reveal .slides>section[data-transition=zoom].past,.reveal .slides>section[data-transition~=zoom-out].past,.reveal.zoom .slides>section:not([data-transition]).past{transform:scale(16);visibility:hidden}.reveal .slides>section[data-transition=zoom].future,.reveal .slides>section[data-transition~=zoom-in].future,.reveal.zoom .slides>section:not([data-transition]).future{transform:scale(.2);visibility:hidden}.reveal .slides>section>section[data-transition=zoom].past,.reveal .slides>section>section[data-transition~=zoom-out].past,.reveal.zoom .slides>section>section:not([data-transition]).past{transform:scale(16)}.reveal .slides>section>section[data-transition=zoom].future,.reveal .slides>section>section[data-transition~=zoom-in].future,.reveal.zoom .slides>section>section:not([data-transition]).future{transform:scale(.2)}.reveal.cube .slides{perspective:1300px}.reveal.cube .slides section{backface-visibility:hidden;box-sizing:border-box;min-height:700px;padding:30px;transform-style:preserve-3d}.reveal.center.cube .slides section{min-height:0}.reveal.cube .slides section:not(.stack):before{background:rgba(0,0,0,.1);border-radius:4px;content:"";display:block;height:100%;left:0;position:absolute;top:0;transform:translateZ(-20px);width:100%}.reveal.cube .slides section:not(.stack):after{background:0 0;border-radius:4px;bottom:0;box-shadow:0 95px 25px rgba(0,0,0,.2);content:"";display:block;height:30px;left:5%;position:absolute;transform:translateZ(-90px) rotateX(65deg);width:90%;z-index:1}.reveal.cube .slides>section.stack{background:0 0;padding:0}.reveal.cube .slides>section.past{transform:translate3d(-100%,0,0) rotateY(-90deg);transform-origin:100% 0}.reveal.cube .slides>section.future{transform:translate3d(100%,0,0) rotateY(90deg);transform-origin:0 0}.reveal.cube .slides>section>section.past{transform:translate3d(0,-100%,0) rotateX(90deg);transform-origin:0 100%}.reveal.cube .slides>section>section.future{transform:translate3d(0,100%,0) rotateX(-90deg);transform-origin:0 0}.reveal.page .slides{perspective:3000px;perspective-origin:0 50%}.reveal.page .slides section{box-sizing:border-box;min-height:700px;padding:30px;transform-style:preserve-3d}.reveal.page .slides section.past{z-index:12}.reveal.page .slides section:not(.stack):before{background:rgba(0,0,0,.1);content:"";display:block;height:100%;left:0;position:absolute;top:0;transform:translateZ(-20px);width:100%}.reveal.page .slides section:not(.stack):after{background:0 0;border-radius:4px;bottom:0;box-shadow:0 95px 25px rgba(0,0,0,.2);content:"";display:block;height:30px;left:5%;position:absolute;-webkit-transform:translateZ(-90px) rotateX(65deg);width:90%;z-index:1}.reveal.page .slides>section.stack{background:0 0;padding:0}.reveal.page .slides>section.past{transform:translate3d(-40%,0,0) rotateY(-80deg);transform-origin:0 0}.reveal.page .slides>section.future{transform:translateZ(0);transform-origin:100% 0}.reveal.page .slides>section>section.past{transform:translate3d(0,-40%,0) rotateX(80deg);transform-origin:0 0}.reveal.page .slides>section>section.future{transform:translateZ(0);transform-origin:0 100%}.reveal .slides section[data-transition=fade],.reveal.fade .slides section:not([data-transition]),.reveal.fade .slides>section>section:not([data-transition]){transform:none;transition:opacity .5s}.reveal.fade.overview .slides section,.reveal.fade.overview .slides>section>section{transition:none}.reveal .slides section[data-transition=none],.reveal.none .slides section:not([data-transition]){transform:none;transition:none}.reveal .pause-overlay{background:#000;height:100%;left:0;opacity:0;position:absolute;top:0;transition:all 1s ease;visibility:hidden;width:100%;z-index:100}.reveal .pause-overlay .resume-button{background:0 0;border:2px solid #ccc;border-radius:2px;bottom:20px;color:#ccc;cursor:pointer;font-size:16px;padding:6px 14px;position:absolute;right:20px}.reveal .pause-overlay .resume-button:hover{border-color:#fff;color:#fff}.reveal.paused .pause-overlay{opacity:1;visibility:visible}.reveal .no-transition,.reveal .no-transition *,.reveal .slides.disable-slide-transitions section{transition:none!important}.reveal .slides.disable-slide-transitions section{transform:none!important}.reveal .backgrounds{height:100%;left:0;perspective:600px;position:absolute;top:0;width:100%}.reveal .slide-background{background-color:transparent;display:none;height:100%;opacity:0;overflow:hidden;position:absolute;transition:all .8s cubic-bezier(.26,.86,.44,.985);visibility:hidden;width:100%}.reveal .slide-background-content{background-position:50% 50%;background-repeat:no-repeat;background-size:cover;height:100%;position:absolute;width:100%}.reveal .slide-background.stack{display:block}.reveal .slide-background.present{opacity:1;visibility:visible;z-index:2}.print-pdf .reveal .slide-background{opacity:1!important;visibility:visible!important}.reveal .slide-background video{height:100%;left:0;max-height:none;max-width:none;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;width:100%}.reveal .slide-background[data-background-size=contain] video{-o-object-fit:contain;object-fit:contain}.reveal>.backgrounds .slide-background[data-background-transition=none],.reveal[data-background-transition=none]>.backgrounds .slide-background:not([data-background-transition]){transition:none}.reveal>.backgrounds .slide-background[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background:not([data-background-transition]){opacity:1}.reveal>.backgrounds .slide-background.past[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background.past:not([data-background-transition]){transform:translate(-100%)}.reveal>.backgrounds .slide-background.future[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background.future:not([data-background-transition]){transform:translate(100%)}.reveal>.backgrounds .slide-background>.slide-background.past[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background>.slide-background.past:not([data-background-transition]){transform:translateY(-100%)}.reveal>.backgrounds .slide-background>.slide-background.future[data-background-transition=slide],.reveal[data-background-transition=slide]>.backgrounds .slide-background>.slide-background.future:not([data-background-transition]){transform:translateY(100%)}.reveal>.backgrounds .slide-background.past[data-background-transition=convex],.reveal[data-background-transition=convex]>.backgrounds .slide-background.past:not([data-background-transition]){opacity:0;transform:translate3d(-100%,0,0) rotateY(-90deg) translate3d(-100%,0,0)}.reveal>.backgrounds .slide-background.future[data-background-transition=convex],.reveal[data-background-transition=convex]>.backgrounds .slide-background.future:not([data-background-transition]){opacity:0;transform:translate3d(100%,0,0) rotateY(90deg) translate3d(100%,0,0)}.reveal>.backgrounds .slide-background>.slide-background.past[data-background-transition=convex],.reveal[data-background-transition=convex]>.backgrounds .slide-background>.slide-background.past:not([data-background-transition]){opacity:0;transform:translate3d(0,-100%,0) rotateX(90deg) translate3d(0,-100%,0)}.reveal>.backgrounds .slide-background>.slide-background.future[data-background-transition=convex],.reveal[data-background-transition=convex]>.backgrounds .slide-background>.slide-background.future:not([data-background-transition]){opacity:0;transform:translate3d(0,100%,0) rotateX(-90deg) translate3d(0,100%,0)}.reveal>.backgrounds .slide-background.past[data-background-transition=concave],.reveal[data-background-transition=concave]>.backgrounds .slide-background.past:not([data-background-transition]){opacity:0;transform:translate3d(-100%,0,0) rotateY(90deg) translate3d(-100%,0,0)}.reveal>.backgrounds .slide-background.future[data-background-transition=concave],.reveal[data-background-transition=concave]>.backgrounds .slide-background.future:not([data-background-transition]){opacity:0;transform:translate3d(100%,0,0) rotateY(-90deg) translate3d(100%,0,0)}.reveal>.backgrounds .slide-background>.slide-background.past[data-background-transition=concave],.reveal[data-background-transition=concave]>.backgrounds .slide-background>.slide-background.past:not([data-background-transition]){opacity:0;transform:translate3d(0,-100%,0) rotateX(-90deg) translate3d(0,-100%,0)}.reveal>.backgrounds .slide-background>.slide-background.future[data-background-transition=concave],.reveal[data-background-transition=concave]>.backgrounds .slide-background>.slide-background.future:not([data-background-transition]){opacity:0;transform:translate3d(0,100%,0) rotateX(90deg) translate3d(0,100%,0)}.reveal>.backgrounds .slide-background[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background:not([data-background-transition]){transition-timing-function:ease}.reveal>.backgrounds .slide-background.past[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background.past:not([data-background-transition]){opacity:0;transform:scale(16);visibility:hidden}.reveal>.backgrounds .slide-background.future[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background.future:not([data-background-transition]){opacity:0;transform:scale(.2);visibility:hidden}.reveal>.backgrounds .slide-background>.slide-background.past[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background>.slide-background.past:not([data-background-transition]){opacity:0;transform:scale(16);visibility:hidden}.reveal>.backgrounds .slide-background>.slide-background.future[data-background-transition=zoom],.reveal[data-background-transition=zoom]>.backgrounds .slide-background>.slide-background.future:not([data-background-transition]){opacity:0;transform:scale(.2);visibility:hidden}.reveal[data-transition-speed=fast]>.backgrounds .slide-background{transition-duration:.4s}.reveal[data-transition-speed=slow]>.backgrounds .slide-background{transition-duration:1.2s}.reveal [data-auto-animate-target^=unmatched]{will-change:opacity}.reveal section[data-auto-animate]:not(.stack):not([data-auto-animate=running]) [data-auto-animate-target^=unmatched]{opacity:0}.reveal.overview{perspective:700px;perspective-origin:50% 50%}.reveal.overview .slides{-moz-transform-style:preserve-3d}.reveal.overview .slides section{box-sizing:border-box;cursor:pointer;height:100%;opacity:1!important;overflow:hidden;top:0!important;visibility:visible!important}.reveal.overview .slides section.present,.reveal.overview .slides section:hover{outline:10px solid hsla(0,0%,59%,.4);outline-offset:10px}.reveal.overview .slides section .fragment{opacity:1;transition:none}.reveal.overview .slides section:after,.reveal.overview .slides section:before{display:none!important}.reveal.overview .slides>section.stack{background:0 0;outline:0;overflow:visible;padding:0;top:0!important}.reveal.overview .backgrounds{perspective:inherit;-moz-transform-style:preserve-3d}.reveal.overview .backgrounds .slide-background{opacity:1;outline:10px solid hsla(0,0%,59%,.1);outline-offset:10px;visibility:visible}.reveal.overview .backgrounds .slide-background.stack{overflow:visible}.reveal.overview .backgrounds .slide-background,.reveal.overview .slides section,.reveal.overview-deactivating .backgrounds .slide-background,.reveal.overview-deactivating .slides section{transition:none}.reveal.rtl .slides,.reveal.rtl .slides h1,.reveal.rtl .slides h2,.reveal.rtl .slides h3,.reveal.rtl .slides h4,.reveal.rtl .slides h5,.reveal.rtl .slides h6{direction:rtl;font-family:sans-serif}.reveal.rtl code,.reveal.rtl pre{direction:ltr}.reveal.rtl ol,.reveal.rtl ul{text-align:right}.reveal.rtl .progress span{transform-origin:100% 0}.reveal.has-parallax-background .backgrounds{transition:all .8s ease}.reveal.has-parallax-background[data-transition-speed=fast] .backgrounds{transition-duration:.4s}.reveal.has-parallax-background[data-transition-speed=slow] .backgrounds{transition-duration:1.2s}.reveal>.overlay{-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);background:rgba(0,0,0,.95);height:100%;left:0;position:absolute;top:0;transition:all .3s ease;width:100%;z-index:1000}.reveal>.overlay .spinner{background-image:url(data:image/gif;base64,R0lGODlhIAAgAPMAAJmZmf%2F%2F%2F6%2Bvr8nJybW1tcDAwOjo6Nvb26ioqKOjo7Ozs%2FLy8vz8%2FAAAAAAAAAAAACH%2FC05FVFNDQVBFMi4wAwEAAAAh%2FhpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh%2BQQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ%2FV%2FnmOM82XiHRLYKhKP1oZmADdEAAAh%2BQQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY%2FCZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB%2BA4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6%2BHo7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq%2BB6QDtuetcaBPnW6%2BO7wDHpIiK9SaVK5GgV543tzjgGcghAgAh%2BQQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK%2B%2BG%2Bw48edZPK%2BM6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE%2BG%2BcD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm%2BFNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk%2BaV%2BoJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0%2FVNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc%2BXiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30%2FiI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE%2FjiuL04RGEBgwWhShRgQExHBAAh%2BQQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR%2BipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY%2BYip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd%2BMFCN6HAAIKgNggY0KtEBAAh%2BQQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1%2BvsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d%2BjYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg%2BygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0%2Bbm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h%2BKr0SJ8MFihpNbx%2B4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX%2BBP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA%3D%3D);display:block;height:32px;left:50%;margin:-16px 0 0 -16px;opacity:.6;position:absolute;top:50%;transition:all .3s ease;visibility:visible;width:32px;z-index:10}.reveal>.overlay header{box-sizing:border-box;left:0;padding:5px;position:absolute;top:0;width:100%;z-index:2}.reveal>.overlay header a{box-sizing:border-box;display:inline-block;float:right;height:40px;line-height:36px;opacity:.6;padding:0 10px;width:40px}.reveal>.overlay header a:hover{opacity:1}.reveal>.overlay header a .icon{background-position:50% 50%;background-repeat:no-repeat;background-size:100%;display:inline-block;height:20px;width:20px}.reveal>.overlay header a.close .icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABkklEQVRYR8WX4VHDMAxG6wnoJrABZQPYBCaBTWAD2g1gE5gg6OOsXuxIlr40d81dfrSJ9V4c2VLK7spHuTJ/5wpM07QXuXc5X0opX2tEJcadjHuV80li/FgxTIEK/5QBCICBD6xEhSMGHgQPgBgLiYVAB1dpSqKDawxTohFw4JSEA3clzgIBPCURwE2JucBR7rhPJJv5OpJwDX+SfDjgx1wACQeJG1aChP9K/IMmdZ8DtESV1WyP3Bt4MwM6sj4NMxMYiqUWHQu4KYA/SYkIjOsm3BXYWMKFDwU2khjCQ4ELJUJ4SmClRArOCmSXGuKma0fYD5CbzHxFpCSGAhfAVSSUGDUk2BWZaff2g6GE15BsBQ9nwmpIGDiyHQddwNTMKkbZaf9fajXQca1EX44puJZUsnY0ObGmITE3GVLCbEhQUjGVt146j6oasWN+49Vph2w1pZ5EansNZqKBm1txbU57iRRcZ86RWMDdWtBJUHBHwoQPi1GV+JCbntmvok7iTX4/Up9mgyTc/FJYDTcndgH/AA5A/CHsyEkVAAAAAElFTkSuQmCC)}.reveal>.overlay header a.external .icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAcElEQVRYR+2WSQoAIQwEzf8f7XiOMkUQxUPlGkM3hVmiQfQR9GYnH1SsAQlI4DiBqkCMoNb9y2e90IAEJPAcgdznU9+engMaeJ7Azh5Y1U67gAho4DqBqmB1buAf0MB1AlVBek83ZPkmJMGc1wAR+AAqod/B97TRpQAAAABJRU5ErkJggg==)}.reveal>.overlay .viewport{bottom:0;display:flex;left:0;position:absolute;right:0;top:50px}.reveal>.overlay.overlay-preview .viewport iframe{border:0;height:100%;max-height:100%;max-width:100%;opacity:0;transition:all .3s ease;visibility:hidden;width:100%}.reveal>.overlay.overlay-preview.loaded .viewport iframe{opacity:1;visibility:visible}.reveal>.overlay.overlay-preview.loaded .viewport-inner{left:0;letter-spacing:normal;position:absolute;text-align:center;top:45%;width:100%;z-index:-1}.reveal>.overlay.overlay-preview .x-frame-error{opacity:0;transition:opacity .3s ease .3s}.reveal>.overlay.overlay-preview.loaded .x-frame-error{opacity:1}.reveal>.overlay.overlay-preview.loaded .spinner{opacity:0;transform:scale(.2);visibility:hidden}.reveal>.overlay.overlay-help .viewport{color:#fff;overflow:auto}.reveal>.overlay.overlay-help .viewport .viewport-inner{letter-spacing:normal;margin:auto;padding:20px 20px 80px;text-align:center;width:600px}.reveal>.overlay.overlay-help .viewport .viewport-inner .title{font-size:20px}.reveal>.overlay.overlay-help .viewport .viewport-inner table{border:1px solid #fff;border-collapse:collapse;font-size:16px}.reveal>.overlay.overlay-help .viewport .viewport-inner table td,.reveal>.overlay.overlay-help .viewport .viewport-inner table th{border:1px solid #fff;padding:14px;vertical-align:middle;width:200px}.reveal>.overlay.overlay-help .viewport .viewport-inner table th{padding-bottom:20px;padding-top:20px}.reveal .playback{bottom:20px;cursor:pointer;left:15px;position:absolute;transition:all .4s ease;z-index:30;-webkit-tap-highlight-color:transparent}.reveal.overview .playback{opacity:0;visibility:hidden}.reveal .hljs{min-height:100%}.reveal .hljs table{margin:initial}.reveal .hljs-ln-code,.reveal .hljs-ln-numbers{border:0;padding:0}.reveal .hljs-ln-numbers{opacity:.6;padding-right:.75em;text-align:right;vertical-align:top}.reveal .hljs.has-highlights tr:not(.highlight-line){opacity:.4}.reveal .hljs.has-highlights.fragment{transition:all .2s ease}.reveal .hljs:not(:first-child).fragment{box-sizing:border-box;left:0;position:absolute;top:0;width:100%}.reveal pre[data-auto-animate-target]{overflow:hidden}.reveal pre[data-auto-animate-target] code{height:100%}.reveal .roll{display:inline-block;line-height:1.2;overflow:hidden;perspective:400px;perspective-origin:50% 50%;vertical-align:top}.reveal .roll:hover{background:0 0;text-shadow:none}.reveal .roll span{backface-visibility:hidden;display:block;padding:0 2px;pointer-events:none;position:relative;transform-origin:50% 0;transform-style:preserve-3d;transition:all .4s ease}.reveal .roll:hover span{background:rgba(0,0,0,.5);transform:translateZ(-45px) rotateX(90deg)}.reveal .roll span:after{backface-visibility:hidden;content:attr(data-title);display:block;left:0;padding:0 2px;position:absolute;top:0;transform:translate3d(0,110%,0) rotateX(-90deg);transform-origin:50% 0}.reveal aside.notes{display:none}.reveal .speaker-notes{background-color:#f5f5f5;border:1px solid rgba(0,0,0,.05);box-sizing:border-box;color:#222;display:none;font-family:Helvetica,sans-serif;font-size:18px;height:100%;left:100%;line-height:1.4;overflow:auto;padding:14px 18px;position:absolute;text-align:left;top:0;width:33.3333333333%;z-index:1;-webkit-overflow-scrolling:touch}.reveal .speaker-notes .notes-placeholder{color:#ccc;font-style:italic}.reveal .speaker-notes:focus{outline:0}.reveal .speaker-notes:before{content:"Speaker notes";display:block;margin-bottom:10px;opacity:.5}.reveal.show-notes{max-width:75%;overflow:visible}.reveal.show-notes .speaker-notes{display:block}@media screen and (min-width:1600px){.reveal .speaker-notes{font-size:20px}}@media screen and (max-width:1024px){.reveal.show-notes{border-left:0;max-height:70%;max-height:70vh;max-width:none;overflow:visible}.reveal.show-notes .speaker-notes{border:0;height:30vh;left:0;top:100%;width:100%}}@media screen and (max-width:600px){.reveal.show-notes{max-height:60%;max-height:60vh}.reveal.show-notes .speaker-notes{height:40vh;top:100%}.reveal .speaker-notes{font-size:14px}}.reveal .jump-to-slide{font-size:32px;left:15px;position:absolute;top:15px;z-index:30;-webkit-tap-highlight-color:transparent}.reveal .jump-to-slide-input{background:0 0;border:0;color:currentColor;font-size:inherit;padding:8px}.reveal .jump-to-slide-input::-moz-placeholder{color:currentColor;opacity:.5}.reveal .jump-to-slide-input::placeholder{color:currentColor;opacity:.5}.reveal.has-dark-background .jump-to-slide-input{color:#fff}.reveal.has-light-background .jump-to-slide-input{color:#222}.reveal .jump-to-slide-input:focus{outline:0}.zoomed .reveal *,.zoomed .reveal :after,.zoomed .reveal :before{backface-visibility:visible!important}.zoomed .reveal .controls,.zoomed .reveal .progress{opacity:0}.zoomed .reveal .roll span{background:0 0}.reveal-viewport.loading-scroll-mode,.zoomed .reveal .roll span:after{visibility:hidden}.reveal-viewport.reveal-scroll{margin:0 auto;overflow:auto;overflow-x:hidden;overflow-y:auto;z-index:1;--r-scrollbar-width:7px;--r-scrollbar-trigger-size:5px;--r-controls-spacing:8px}@media screen and (max-width:500px){.reveal-viewport.reveal-scroll{--r-scrollbar-width:3px;--r-scrollbar-trigger-size:3px}}.reveal-viewport.reveal-scroll .backgrounds,.reveal-viewport.reveal-scroll .controls,.reveal-viewport.reveal-scroll .playback,.reveal-viewport.reveal-scroll .progress,.reveal-viewport.reveal-scroll .slide-number,.reveal-viewport.reveal-scroll .speaker-notes{display:none!important}.reveal-viewport.reveal-scroll .overlay,.reveal-viewport.reveal-scroll .pause-overlay{position:fixed}.reveal-viewport.reveal-scroll .reveal{overflow:visible;touch-action:manipulation}.reveal-viewport.reveal-scroll .slides{display:block;left:auto;margin:0;overflow:visible;padding:0;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;top:auto;width:100%!important}.reveal-viewport.reveal-scroll .scroll-page{height:calc(var(--page-height) + var(--page-scroll-padding));overflow:visible;position:relative;width:100%;z-index:1}.reveal-viewport.reveal-scroll .scroll-page-sticky{height:var(--page-height);position:sticky;top:0}.reveal-viewport.reveal-scroll .scroll-page-content{height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}.reveal-viewport.reveal-scroll .scroll-page section{display:block!important;height:var(--slide-height)!important;left:50%!important;opacity:1!important;position:absolute!important;top:50%!important;transform:scale(var(--slide-scale)) translate(-50%,-50%)!important;transform-origin:0 0!important;transform-style:flat!important;visibility:visible!important;width:var(--slide-width)!important}.reveal-viewport.reveal-scroll .slide-background{display:block!important;height:100%;left:0;opacity:1;position:absolute;top:0;touch-action:manipulation;visibility:visible;width:100%;z-index:auto!important}.reveal-viewport.reveal-scroll[data-scrollbar=auto]::-webkit-scrollbar,.reveal-viewport.reveal-scroll[data-scrollbar=true]::-webkit-scrollbar{display:none}.reveal-viewport.reveal-scroll[data-scrollbar=auto],.reveal-viewport.reveal-scroll[data-scrollbar=true]{scrollbar-width:none}.reveal-viewport.has-dark-background,.reveal.has-dark-background{--r-overlay-element-bg-color:240,240,240;--r-overlay-element-fg-color:0,0,0}.reveal-viewport.has-light-background,.reveal.has-light-background{--r-overlay-element-bg-color:0,0,0;--r-overlay-element-fg-color:240,240,240}.reveal-viewport.reveal-scroll .scrollbar{opacity:0;position:sticky;top:50%;transition:all .3s ease;z-index:20}.reveal-viewport.reveal-scroll .scrollbar.visible,.reveal-viewport.reveal-scroll .scrollbar:hover{opacity:1}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-inner{border-radius:var(--r-scrollbar-width);height:calc(var(--viewport-height) - var(--r-controls-spacing)*2);position:absolute;right:var(--r-controls-spacing);top:0;transform:translateY(-50%);width:var(--r-scrollbar-width);z-index:10}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-playhead{background-color:rgba(var(--r-overlay-element-bg-color),1);border-radius:var(--r-scrollbar-width);height:var(--r-scrollbar-width);left:0;position:absolute;top:0;transition:background-color .2s ease;width:var(--r-scrollbar-width);z-index:11}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide{background-color:rgba(var(--r-overlay-element-bg-color),.2);border-radius:var(--r-scrollbar-width);box-shadow:0 0 0 1px rgba(var(--r-overlay-element-fg-color),.1);position:absolute;transition:background-color .2s ease;width:100%}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide:after{background:transparent;content:"";height:100%;left:-50%;position:absolute;top:0;width:200%;z-index:-1}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide.active,.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide:hover{background-color:rgba(var(--r-overlay-element-bg-color),.4)}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-trigger{position:absolute;transition:background-color .2s ease;width:100%}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide.active.has-triggers{background-color:rgba(var(--r-overlay-element-bg-color),.4);z-index:10}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide.active .scrollbar-trigger:after{background-color:rgba(var(--r-overlay-element-bg-color),1);border-radius:20px;content:"";height:var(--r-scrollbar-trigger-size);left:50%;opacity:.4;position:absolute;top:50%;transform:translate(-50%,-50%);transition:transform .2s ease,opacity .2s ease;width:var(--r-scrollbar-trigger-size)}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide.active .scrollbar-trigger.active:after,.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide.active .scrollbar-trigger.active~.scrollbar-trigger:after{opacity:1}.reveal-viewport.reveal-scroll .scrollbar .scrollbar-slide.active .scrollbar-trigger~.scrollbar-trigger.active:after{background-color:rgba(var(--r-overlay-element-bg-color),1);transform:translate(calc(var(--r-scrollbar-width)*-2))}html.reveal-print *{-webkit-print-color-adjust:exact}html.reveal-print{height:100%;overflow:visible;width:100%}html.reveal-print body{border:0;float:none!important;margin:0 auto!important;overflow:visible;padding:0}html.reveal-print .nestedarrow,html.reveal-print .reveal .controls,html.reveal-print .reveal .playback,html.reveal-print .reveal .progress,html.reveal-print .reveal.overview,html.reveal-print .state-background{display:none!important}html.reveal-print .reveal pre code{overflow:hidden!important}html.reveal-print .reveal{height:auto!important;overflow:hidden!important;width:auto!important}html.reveal-print .reveal .slides{height:auto!important;position:static;width:100%!important;zoom:1!important;display:block;left:auto;margin:0!important;overflow:visible;padding:0!important;perspective:none;perspective-origin:50% 50%;pointer-events:auto;top:auto}html.reveal-print .reveal .slides .pdf-page{overflow:hidden;page-break-after:always;position:relative;z-index:1}html.reveal-print .reveal .slides .pdf-page:last-of-type{page-break-after:avoid}html.reveal-print .reveal .slides section{box-sizing:border-box!important;display:block!important;margin:0!important;min-height:1px;opacity:1!important;padding:0!important;position:absolute!important;transform:none!important;transform-style:flat!important;visibility:visible!important}html.reveal-print .reveal section.stack{height:auto!important;margin:0!important;min-height:auto!important;padding:0!important;page-break-after:avoid!important;position:relative!important}html.reveal-print .reveal img{box-shadow:none}html.reveal-print .reveal .backgrounds{display:none}html.reveal-print .reveal .slide-background{display:block!important;height:100%;left:0;position:absolute;top:0;width:100%;z-index:auto!important}html.reveal-print .reveal.show-notes{max-height:none;max-width:none}html.reveal-print .reveal .speaker-notes-pdf{bottom:auto;display:block;height:auto;left:auto;max-height:none;right:auto;top:auto;width:100%;z-index:100}html.reveal-print .reveal .speaker-notes-pdf[data-layout=separate-page]{background-color:transparent;border:0;color:inherit;padding:20px;page-break-after:always;position:relative}html.reveal-print .reveal .slide-number-pdf{display:block;font-size:14px;position:absolute;visibility:visible}html.reveal-print .aria-status{display:none}@media print{html:not(.print-pdf){height:auto;overflow:visible;width:auto}html:not(.print-pdf) body{margin:0;overflow:visible;padding:0}html:not(.print-pdf) .reveal{background:#fff;font-size:20pt}html:not(.print-pdf) .reveal .backgrounds,html:not(.print-pdf) .reveal .controls,html:not(.print-pdf) .reveal .progress,html:not(.print-pdf) .reveal .slide-number,html:not(.print-pdf) .reveal .state-background{display:none!important}html:not(.print-pdf) .reveal li,html:not(.print-pdf) .reveal p,html:not(.print-pdf) .reveal td{color:#000;font-size:20pt!important}html:not(.print-pdf) .reveal h1,html:not(.print-pdf) .reveal h2,html:not(.print-pdf) .reveal h3,html:not(.print-pdf) .reveal h4,html:not(.print-pdf) .reveal h5,html:not(.print-pdf) .reveal h6{color:#000!important;height:auto;letter-spacing:normal;line-height:normal;text-align:left}html:not(.print-pdf) .reveal h1{font-size:28pt!important}html:not(.print-pdf) .reveal h2{font-size:24pt!important}html:not(.print-pdf) .reveal h3{font-size:22pt!important}html:not(.print-pdf) .reveal h4{font-size:22pt!important;font-variant:small-caps}html:not(.print-pdf) .reveal h5{font-size:21pt!important}html:not(.print-pdf) .reveal h6{font-size:20pt!important;font-style:italic}html:not(.print-pdf) .reveal a:link,html:not(.print-pdf) .reveal a:visited{color:#000!important;font-weight:700;text-decoration:underline}html:not(.print-pdf) .reveal div,html:not(.print-pdf) .reveal ol,html:not(.print-pdf) .reveal p,html:not(.print-pdf) .reveal ul{display:block;height:auto;margin:0;overflow:visible;position:static;text-align:left!important;visibility:visible;width:auto}html:not(.print-pdf) .reveal pre,html:not(.print-pdf) .reveal table{margin-left:0;margin-right:0}html:not(.print-pdf) .reveal pre code{padding:20px}html:not(.print-pdf) .reveal blockquote{margin:20px 0}html:not(.print-pdf) .reveal .slides{padding:0!important;zoom:1!important;perspective:none;perspective-origin:50% 50%;text-align:left!important;transform:none!important}html:not(.print-pdf) .reveal .slides,html:not(.print-pdf) .reveal .slides section{display:block!important;height:auto!important;left:0!important;margin-left:0!important;margin-top:0!important;overflow:visible!important;position:static!important;top:0!important;width:auto!important}html:not(.print-pdf) .reveal .slides section{opacity:1!important;padding:60px 20px!important;page-break-after:always!important;transform:none!important;transform-style:flat!important;transition:none!important;visibility:visible!important;z-index:auto!important}html:not(.print-pdf) .reveal .slides section.stack{padding:0!important}html:not(.print-pdf) .reveal .slides section:last-of-type{page-break-after:avoid!important}html:not(.print-pdf) .reveal .slides section .fragment{opacity:1!important;transform:none!important;visibility:visible!important}html:not(.print-pdf) .reveal .r-fit-text{white-space:normal!important}html:not(.print-pdf) .reveal section img{background:#fff;border:1px solid #666;box-shadow:none;display:block;margin:15px 0}html:not(.print-pdf) .reveal section small{font-size:.8em}html:not(.print-pdf) .reveal .hljs{max-height:100%;white-space:pre-wrap;word-wrap:break-word;font-size:15pt;word-break:break-word}html:not(.print-pdf) .reveal .hljs .hljs-ln-numbers{white-space:nowrap}html:not(.print-pdf) .reveal .hljs td{color:inherit!important;font-size:inherit!important}}:root{--r-background-color:#fff;--r-main-font:Assistant,Helvetica,sans-serif;--r-main-font-size:28px;--r-main-color:#000;--r-block-margin:20px;--r-heading-margin:0 0 20px 0;--r-heading-font:Nunito,Helvetica,sans-serif;--r-heading-color:#000;--r-heading-line-height:1.2;--r-heading-letter-spacing:normal;--r-heading-text-transform:none;--r-heading-text-shadow:none;--r-heading-font-weight:bold;--r-heading1-text-shadow:none;--r-heading1-size:3em;--r-heading2-size:2.5em;--r-heading3-size:2em;--r-heading4-size:1.5em;--r-code-font:monospace;--r-link-color:#ffb213;--r-link-color-dark:#c68500;--r-link-color-hover:#ffcb60;--r-selection-background-color:#ffdc93;--r-selection-color:#fff;--r-overlay-element-bg-color:240,240,240;--r-overlay-element-fg-color:0,0,0}.reveal-viewport{background:#fff;background-color:var(--r-background-color)}.reveal{color:var(--r-main-color);font-family:var(--r-main-font);font-size:var(--r-main-font-size);font-weight:400}.reveal ::selection{background:var(--r-selection-background-color);color:var(--r-selection-color);text-shadow:none}.reveal ::-moz-selection{background:var(--r-selection-background-color);color:var(--r-selection-color);text-shadow:none}.reveal .slides section,.reveal .slides section>section{font-weight:inherit;line-height:1.3}.reveal h1,.reveal h2,.reveal h3,.reveal h4,.reveal h5,.reveal h6{color:var(--r-heading-color);font-family:var(--r-heading-font);font-weight:var(--r-heading-font-weight);letter-spacing:var(--r-heading-letter-spacing);line-height:var(--r-heading-line-height);margin:var(--r-heading-margin);text-shadow:var(--r-heading-text-shadow);text-transform:var(--r-heading-text-transform);word-wrap:break-word}.reveal h1{font-size:var(--r-heading1-size)}.reveal h2{font-size:var(--r-heading2-size)}.reveal h3{font-size:var(--r-heading3-size)}.reveal h4{font-size:var(--r-heading4-size)}.reveal h1{text-shadow:var(--r-heading1-text-shadow)}.reveal p{line-height:1.3;margin:var(--r-block-margin) 0}.reveal h1:last-child,.reveal h2:last-child,.reveal h3:last-child,.reveal h4:last-child,.reveal h5:last-child,.reveal h6:last-child{margin-bottom:0}.reveal iframe,.reveal img,.reveal video{max-height:95%;max-width:95%}.reveal b,.reveal strong{font-weight:700}.reveal em{font-style:italic}.reveal dl,.reveal ol,.reveal ul{display:inline-block;margin:0 0 0 1em;text-align:left}.reveal ol{list-style-type:decimal}.reveal ul{list-style-type:disc}.reveal ul ul{list-style-type:square}.reveal ul ul ul{list-style-type:circle}.reveal ol ol,.reveal ol ul,.reveal ul ol,.reveal ul ul{display:block;margin-left:40px}.reveal dt{font-weight:700}.reveal dd{margin-left:40px}.reveal blockquote{background:hsla(0,0%,100%,.05);box-shadow:0 0 2px rgba(0,0,0,.2);display:block;font-style:italic;margin:var(--r-block-margin) auto;padding:5px;position:relative;width:70%}.reveal blockquote p:first-child,.reveal blockquote p:last-child{display:inline-block}.reveal q{font-style:italic}.reveal pre{display:block;font-size:.55em;line-height:1.2em;margin:var(--r-block-margin) auto;position:relative;text-align:left;width:90%;word-wrap:break-word;box-shadow:0 5px 15px rgba(0,0,0,.15)}.reveal code,.reveal pre{font-family:var(--r-code-font)}.reveal code{-moz-tab-size:2;-o-tab-size:2;tab-size:2;text-transform:none}.reveal pre code{display:block;max-height:400px;overflow:auto;padding:5px;word-wrap:normal}.reveal .code-wrapper{white-space:normal}.reveal .code-wrapper code{white-space:pre}.reveal table{border-collapse:collapse;border-spacing:0;margin:auto}.reveal table th{font-weight:700}.reveal table td,.reveal table th{border-bottom:1px solid;padding:.2em .5em;text-align:left}.reveal table td[align=center],.reveal table th[align=center]{text-align:center}.reveal table td[align=right],.reveal table th[align=right]{text-align:right}.reveal table tbody tr:last-child td,.reveal table tbody tr:last-child th{border-bottom:none}.reveal sup{font-size:smaller;vertical-align:super}.reveal sub{font-size:smaller;vertical-align:sub}.reveal small{display:inline-block;font-size:.6em;line-height:1.2em}.reveal small,.reveal small *{vertical-align:top}.reveal img{margin:var(--r-block-margin) 0}.reveal a{color:var(--r-link-color);text-decoration:none;transition:color .15s ease}.reveal a:hover{border:none;color:var(--r-link-color-hover);text-shadow:none}.reveal .roll span:after{background:var(--r-link-color-dark);color:#fff}.reveal .r-frame{border:4px solid var(--r-main-color);box-shadow:0 0 10px rgba(0,0,0,.15)}.reveal a .r-frame{transition:all .15s linear}.reveal a:hover .r-frame{border-color:var(--r-link-color);box-shadow:0 0 20px rgba(0,0,0,.55)}.reveal .controls,.reveal .progress{color:var(--r-link-color)}.reveal .progress{background:rgba(0,0,0,.2)}@media print{.backgrounds{background-color:var(--r-background-color)}}#overlay{inset:0;opacity:0;position:absolute;transform:translateY(100vh);transition:opacity 1s;z-index:0}#overlay .opacity-10{opacity:.1}#overlay .opacity-20{opacity:.2}#overlay .opacity-30{opacity:.3}#overlay .opacity-40{opacity:.4}#overlay .opacity-50{opacity:.5}#overlay .opacity-60{opacity:.6}#overlay .opacity-70{opacity:.7}#overlay .opacity-80{opacity:.8}#overlay .opacity-90{opacity:.9}#overlay .opacity-100{opacity:1}#logo-color,#logo-part-white,#logo-white{left:-50%;opacity:0;position:absolute;top:1.5%;transition:opacity 1s,left 1s;z-index:2}#logo-color img,#logo-part-white img,#logo-white img{width:70%}#right-e{top:-100%}#left-e,#right-e{opacity:0;position:absolute;transition:opacity 1s .7s;width:6%;z-index:3}#left-e{left:-100%}#blue-pane{background-color:#009ddd}#blue-pane,#touch-pane{bottom:0;opacity:0;position:absolute;top:0;transition:opacity 1s;z-index:2}#touch-pane{align-items:center;background-color:#fff;display:flex;justify-content:center;left:0;right:66.6%;transform:translateY(100vh)}#touch-pane h3{color:#000;text-align:left}#empowering{align-items:center;bottom:0;display:flex;justify-content:center;left:6%;opacity:0;position:absolute;right:52%;top:0;transform:translateY(100vh);transition:opacity 1s .5s;z-index:2}#empowering h3{color:#fff;font-size:100%;text-align:left}#yellow-strip{border-radius:10vw 10vw 0 0;height:85%;left:-28%;transition:left 1s;width:18%}#yellow-half-strip,#yellow-strip{background-color:#ffb213;bottom:0;position:absolute;z-index:2}#yellow-half-strip{height:25%;left:-100%;opacity:0;transition:opacity 1s;width:17%}#yellow-flag{background-color:#ffb213;border-radius:0 7vh 7vh 0;bottom:5%;height:12%;left:-20%;margin:0;padding:1% 0 0;position:absolute;transition:left 1s,bottom 1s;width:10%;z-index:1}#yellow-flag img{height:90%;margin:0;padding:0;position:relative}#purple-half-circle-bottom{background-color:#380339;border-radius:20vw 20vw 0 0;bottom:-100%;height:15%;left:0;opacity:0;position:absolute;transition:opacity 1s;width:15%;z-index:2}#purple-half-circle-top{border-radius:0 0 20vw 20vw;top:-50%;transition:top 1s;width:30%}#purple-half-circle-logo,#purple-half-circle-top{background-color:#380339;height:30%;left:0;position:absolute;z-index:2}#purple-half-circle-logo{border-radius:28vw 28vw 0 0;bottom:-100%;transform:translateY(100vh);transition:bottom 1s;width:36%}#purple-half-circle-logo img{bottom:-34%;left:22%;position:relative;width:55%}#purple-blob{display:flex;position:absolute;right:0;top:-100vh;transition:top 1s;z-index:2}#purple-blob div{background-color:#380339}#purple-blob .blob1{border-radius:0 0 10vw 10vw;height:25vh;width:10vw}#purple-blob .blob2{border-radius:0 0 10vw 10vw;height:50vh;width:10vw}#purple-blob .box{background:linear-gradient(45deg,transparent 10vw,#380339 0) 0 100%;background-image:radial-gradient(circle at 0 100%,rgba(204,0,0,0) 5vw,#380339 15px);height:calc(25vh + 5vw);position:absolute;right:10vw;top:0;width:5vw}.main-blob{position:absolute;z-index:0}.yellow-bottom{background-color:#ffb213;border-radius:0 15vw 0 0;bottom:-50vh;height:50vh;left:0;transition:bottom 1s;width:15vw}.slide-bottom{bottom:0;transition:bottom 1s}.purple-top{background-color:#380339;border-radius:0 0 0 25vw;height:40vh;max-width:40vh;right:0;top:-40vh;transition:top 1s;width:25vw}.slide-top{top:0;transition:top 1s}#globe,#mail,#phone{left:-20%;position:absolute;top:-20%;transition:left 1s;width:2.2%;z-index:3}.reveal-viewport.title #purple-half-circle-logo{bottom:0;opacity:1;transform:translateY(0)}.reveal-viewport.title #purple-blob{top:0}.reveal-viewport.title #right-e{opacity:1;right:0;top:10%}.reveal-viewport.title #yellow-strip{left:0}.reveal-viewport.title #overlay{background-color:#009ddd;opacity:1;transform:translateY(0)}.reveal-viewport.title #left-e{bottom:30%;left:0;opacity:1}.reveal-viewport.title h1,.reveal-viewport.title h2{color:#fff;margin:6% 6% 6% 15%}.reveal-viewport.standard{text-align:left}.reveal-viewport.standard #logo-color{left:3%;opacity:1}.reveal-viewport.standard #yellow-flag{left:0}.reveal-viewport.standard h1,.reveal-viewport.standard h2,.reveal-viewport.standard h3,.reveal-viewport.standard p{padding-left:10%}.reveal-viewport.center h1,.reveal-viewport.center h2,.reveal-viewport.center h3,.reveal-viewport.center p{padding-left:0;text-align:center}.reveal-viewport.center iframe,.reveal-viewport.center img{border-style:none;display:block;margin:0 auto}.reveal-viewport.black-haze #overlay{background-color:#000;opacity:1;transform:translateY(0)}.reveal-viewport.about #logo-part-white{left:3%;opacity:1}.reveal-viewport.about #blue-pane{left:0;opacity:1;right:50%}.reveal-viewport.about #purple-half-circle-top{top:0}.reveal-viewport.about #purple-half-circle-bottom{bottom:0;left:18%;opacity:1}.reveal-viewport.about #yellow-half-strip{border-radius:20vw 0 0 0;left:33%;opacity:1}.reveal-viewport.about #empowering{opacity:1;transform:translateY(0)}.reveal-viewport.about h1,.reveal-viewport.about h2,.reveal-viewport.about p,.reveal-viewport.about ul{padding-left:55%;text-align:left}.reveal-viewport.keepintouch #logo-color{left:3%;opacity:1}.reveal-viewport.keepintouch #overlay{background-color:#009ddd;opacity:1;transform:translateY(0)}.reveal-viewport.keepintouch #touch-pane{opacity:1;transform:translateY(0)}.reveal-viewport.keepintouch #purple-blob{top:0}.reveal-viewport.keepintouch #right-e{opacity:1;right:0;top:67%}.reveal-viewport.keepintouch #yellow-half-strip{border-radius:0 20vw 0 0;left:33%;opacity:1}.reveal-viewport.keepintouch #purple-half-circle-bottom{bottom:0;left:50%;opacity:1}.reveal-viewport.keepintouch #globe{left:46%;top:38.6%}.reveal-viewport.keepintouch #mail{left:46%;top:46.6%}.reveal-viewport.keepintouch #phone{left:46%;top:53.5%}.reveal-viewport.keepintouch h1,.reveal-viewport.keepintouch h2,.reveal-viewport.keepintouch p,.reveal-viewport.keepintouch ul{padding-left:50%;text-align:left}.reveal-viewport.keepintouch a,.reveal-viewport.keepintouch p{color:#fff}.reveal-viewport.empty h1,.reveal-viewport.empty h2,.reveal-viewport.empty h3,.reveal-viewport.empty p,.reveal-viewport.empty ul{padding-left:10%;text-align:left}.reveal-viewport section.has-dark-background h1,.reveal-viewport section.has-dark-background h2,.reveal-viewport section.has-dark-background h3{color:#fff}.reveal-viewport .slides{z-index:10}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.14 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]:where(:not([hidden=until-found])){display:none}li,ol,ul{list-style-type:revert}table,td,th{border:1px solid;padding:5px}li a,ol a,p a,ul a{color:#380339;font-weight:700}li a:after,ol a:after,p a:after,ul a:after{background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='800' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 6H7a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-5m-6 0 7.5-7.5M15 3h6v6'/%3E%3C/svg%3E") no-repeat 0 0;background-size:100%;content:"";padding-right:1em}#footer a{-webkit-text-decoration:revert;text-decoration:revert}</style>
<style>*,::backdrop,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/*! tailwindcss v3.4.14 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:initial}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]:where(:not([hidden=until-found])){display:none}.prose{color:var(--tw-prose-body);max-width:65ch}.prose :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-bottom:1.2em;margin-top:1.2em}.prose :where(a):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-links);font-weight:500;text-decoration:underline}.prose :where(strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal;margin-bottom:1.25em;margin-top:1.25em;padding-inline-start:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:disc;margin-bottom:1.25em;margin-top:1.25em;padding-inline-start:1.625em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.25em}.prose :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){border-inline-start-color:var(--tw-prose-quote-borders);border-inline-start-width:.25rem;color:var(--tw-prose-quotes);font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-inline-start:1em;quotes:"\201C""\201D""\2018""\2019"}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose :where(h1 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:900}.prose :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose :where(h2 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:800}.prose :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.25em;font-weight:600;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose :where(h3 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.prose :where(h4 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){display:block;margin-bottom:2em;margin-top:2em}.prose :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.3125rem;box-shadow:0 0 0 1px rgb(var(--tw-prose-kbd-shadows)/10%),0 3px 0 rgb(var(--tw-prose-kbd-shadows)/10%);color:var(--tw-prose-kbd);font-family:inherit;font-size:.875em;font-weight:500;padding-inline-end:.375em;padding-bottom:.1875em;padding-top:.1875em;padding-inline-start:.375em}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h1 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){background-color:var(--tw-prose-pre-bg);border-radius:.375rem;color:var(--tw-prose-pre-code);font-size:.875em;font-weight:400;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding-inline-end:1.1428571em;padding-bottom:.8571429em;padding-top:.8571429em;padding-inline-start:1.1428571em}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)){background-color:initial;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;width:100%}.prose :where(thead):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-color:var(--tw-prose-th-borders);border-bottom-width:1px}.prose :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;padding-inline-end:.5714286em;padding-bottom:.5714286em;padding-inline-start:.5714286em;vertical-align:bottom}.prose :where(tbody tr):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-color:var(--tw-prose-td-borders);border-bottom-width:1px}.prose :where(tbody tr:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:initial}.prose :where(tfoot):not(:where([class~=not-prose],[class~=not-prose] *)){border-top-color:var(--tw-prose-th-borders);border-top-width:1px}.prose :where(tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:top}.prose :where(th,td):not(:where([class~=not-prose],[class~=not-prose] *)){text-align:start}.prose :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-kbd:#111827;--tw-prose-kbd-shadows:17 24 39;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-kbd:#fff;--tw-prose-invert-kbd-shadows:255 255 255;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:#00000080;--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.375em}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(.prose>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;padding-inline-start:1.625em}.prose :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:.5714286em;padding-bottom:.5714286em;padding-top:.5714286em;padding-inline-start:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(.prose>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.prose-lg{font-size:1.125rem;line-height:1.7777778}.prose-lg :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em}.prose-lg :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:1.2222222em;line-height:1.4545455;margin-bottom:1.0909091em;margin-top:1.0909091em}.prose-lg :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.6666667em;margin-top:1.6666667em;padding-inline-start:1em}.prose-lg :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:2.6666667em;line-height:1;margin-bottom:.8333333em;margin-top:0}.prose-lg :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:1.6666667em;line-height:1.3333333;margin-bottom:1.0666667em;margin-top:1.8666667em}.prose-lg :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:1.3333333em;line-height:1.5;margin-bottom:.6666667em;margin-top:1.6666667em}.prose-lg :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){line-height:1.5555556;margin-bottom:.4444444em;margin-top:1.7777778em}.prose-lg :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em}.prose-lg :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em}.prose-lg :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose-lg :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em}.prose-lg :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.3125rem;font-size:.8888889em;padding-inline-end:.4444444em;padding-bottom:.2222222em;padding-top:.2222222em;padding-inline-start:.4444444em}.prose-lg :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8888889em}.prose-lg :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8666667em}.prose-lg :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.875em}.prose-lg :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.375rem;font-size:.8888889em;line-height:1.75;margin-bottom:2em;margin-top:2em;padding-inline-end:1.5em;padding-bottom:1em;padding-top:1em;padding-inline-start:1.5em}.prose-lg :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-inline-start:1.5555556em}.prose-lg :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-inline-start:1.5555556em}.prose-lg :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.6666667em;margin-top:.6666667em}.prose-lg :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.4444444em}.prose-lg :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.4444444em}.prose-lg :where(.prose-lg>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.8888889em;margin-top:.8888889em}.prose-lg :where(.prose-lg>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-lg :where(.prose-lg>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em}.prose-lg :where(.prose-lg>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-lg :where(.prose-lg>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em}.prose-lg :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.8888889em;margin-top:.8888889em}.prose-lg :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em}.prose-lg :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-lg :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.6666667em;padding-inline-start:1.5555556em}.prose-lg :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:3.1111111em;margin-top:3.1111111em}.prose-lg :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8888889em;line-height:1.5}.prose-lg :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:.75em;padding-bottom:.75em;padding-inline-start:.75em}.prose-lg :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose-lg :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose-lg :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:.75em;padding-bottom:.75em;padding-top:.75em;padding-inline-start:.75em}.prose-lg :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose-lg :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose-lg :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em}.prose-lg :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose-lg :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8888889em;line-height:1.5;margin-top:1em}.prose-lg :where(.prose-lg>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(.prose-lg>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.prose-2xl{font-size:1.5rem;line-height:1.6666667}.prose-2xl :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em}.prose-2xl :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:1.25em;line-height:1.4666667;margin-bottom:1.0666667em;margin-top:1.0666667em}.prose-2xl :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em;padding-inline-start:1.1111111em}.prose-2xl :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:2.6666667em;line-height:1;margin-bottom:.875em;margin-top:0}.prose-2xl :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:2em;line-height:1.0833333;margin-bottom:.8333333em;margin-top:1.5em}.prose-2xl :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:1.5em;line-height:1.2222222;margin-bottom:.6666667em;margin-top:1.5555556em}.prose-2xl :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){line-height:1.5;margin-bottom:.6666667em;margin-top:1.6666667em}.prose-2xl :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose-2xl :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose-2xl :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose-2xl :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose-2xl :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.375rem;font-size:.8333333em;padding-inline-end:.3333333em;padding-bottom:.25em;padding-top:.25em;padding-inline-start:.3333333em}.prose-2xl :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8333333em}.prose-2xl :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.875em}.prose-2xl :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8888889em}.prose-2xl :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.5rem;font-size:.8333333em;line-height:1.8;margin-bottom:2em;margin-top:2em;padding-inline-end:1.6em;padding-bottom:1.2em;padding-top:1.2em;padding-inline-start:1.6em}.prose-2xl :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-inline-start:1.5833333em}.prose-2xl :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-inline-start:1.5833333em}.prose-2xl :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.prose-2xl :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.4166667em}.prose-2xl :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.4166667em}.prose-2xl :where(.prose-2xl>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.8333333em;margin-top:.8333333em}.prose-2xl :where(.prose-2xl>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-2xl :where(.prose-2xl>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em}.prose-2xl :where(.prose-2xl>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-2xl :where(.prose-2xl>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em}.prose-2xl :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.6666667em;margin-top:.6666667em}.prose-2xl :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em}.prose-2xl :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-2xl :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;padding-inline-start:1.5833333em}.prose-2xl :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:3em;margin-top:3em}.prose-2xl :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-2xl :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-2xl :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-2xl :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-2xl :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8333333em;line-height:1.4}.prose-2xl :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:.6em;padding-bottom:.8em;padding-inline-start:.6em}.prose-2xl :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose-2xl :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose-2xl :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:.6em;padding-bottom:.8em;padding-top:.8em;padding-inline-start:.6em}.prose-2xl :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose-2xl :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose-2xl :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose-2xl :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose-2xl :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8333333em;line-height:1.6;margin-top:1em}.prose-2xl :where(.prose-2xl>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-2xl :where(.prose-2xl>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.z-0{z-index:0}.z-10{z-index:10}.m-4{margin:1rem}.mx-10{margin-left:2.5rem;margin-right:2.5rem}.mx-16{margin-left:4rem;margin-right:4rem}.my-10{margin-bottom:2.5rem;margin-top:2.5rem}.mb-8{margin-bottom:2rem}.ml-16{margin-left:4rem}.ml-20{margin-left:5rem}.box-border{box-sizing:border-box}.line-clamp-2{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.block{display:block}.flex{display:flex}.table{display:table}.contents{display:contents}.hidden{display:none}.h-20{height:5rem}.h-48{height:12rem}.h-full{height:100%}.h-screen{height:100vh}.w-1\/3{width:33.333333%}.w-2\/3{width:66.666667%}.w-20{width:5rem}.w-full{width:100%}.w-screen{width:100vw}.max-w-40{max-width:10rem}.max-w-4xl{max-width:56rem}.max-w-\[485px\]{max-width:485px}.flex-1{flex:1 1 0%}.flex-initial{flex:0 1 auto}.flex-none{flex:none}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.content-center{align-content:center}.items-center{align-items:center}.justify-center{justify-content:center}.gap-10{gap:2.5rem}.gap-4{gap:1rem}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.rounded-xl{border-radius:.75rem}.rounded-bl-3xl{border-bottom-left-radius:1.5rem}.rounded-bl-xl{border-bottom-left-radius:.75rem}.rounded-tr-3xl{border-top-right-radius:1.5rem}.rounded-tr-xl{border-top-right-radius:.75rem}.border-8{border-width:8px}.border-eScienceWhite{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.bg-eSciencePurple{--tw-bg-opacity:1;background-color:rgb(56 3 57/var(--tw-bg-opacity))}.bg-eScienceWhite{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-eScienceYellow{--tw-bg-opacity:1;background-color:rgb(255 178 19/var(--tw-bg-opacity))}.bg-gentleBlue{--tw-bg-opacity:1;background-color:rgb(229 245 251/var(--tw-bg-opacity))}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.object-cover{object-fit:cover}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-12{padding-left:3rem;padding-right:3rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-8{padding-bottom:2rem;padding-top:2rem}.pb-6{padding-bottom:1.5rem}.pl-10{padding-left:2.5rem}.pl-2{padding-left:.5rem}.pl-6{padding-left:1.5rem}.pr-10{padding-right:2.5rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-body{font-family:Assistant}.font-display{font-family:Nunito}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.ordinal{--tw-ordinal:ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-eSciencePurple{--tw-text-opacity:1;color:rgb(56 3 57/var(--tw-text-opacity))}.text-eScienceWhite{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.hover\:bg-eScienceWhite:hover{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.hover\:text-eScienceBlue:hover{--tw-text-opacity:1;color:rgb(0 157 221/var(--tw-text-opacity))}.active\:border-2:active{border-width:2px}.active\:opacity-50:active{opacity:.5}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<link rel="stylesheet" href="/green-digital-skills/_nuxt/ProsePre.B_fgAJq0.css" crossorigin>
<link rel="preload" as="fetch" crossorigin="anonymous" href="/green-digital-skills/modules/software-development-handson/excercises-code-carbon-r/_payload.json?bba5b939-a6b2-42dd-b0a2-b2918b0f05c3">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/DcgnBMkC.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/BQWbg3cA.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/ByaoVam3.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/Cpj98o6Y.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/DZKhpJ39.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/Ba-tVm8B.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/Dnd51l0P.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/Cy9ZZzHV.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/qSvidI2m.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/BkGda_5D.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/BHIeDXy7.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/B1IqWZLY.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/ozrPHsn8.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/B0uK1DC2.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/BVkK14a2.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/CrM4yeg_.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/DtTCdfWF.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/4V9NpRQa.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/B4zJDChY.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/DziTp-iW.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/CXmE3xtX.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/D9euuBiS.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/BE-FfdNQ.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/BMF-w-I7.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/-qJacmg_.js">
<link rel="modulepreload" as="script" crossorigin href="/green-digital-skills/_nuxt/DmMHN4c7.js">
<link rel="prefetch" as="script" crossorigin href="/green-digital-skills/_nuxt/D7i3ao98.js">
<link rel="prefetch" as="script" crossorigin href="/green-digital-skills/_nuxt/BaVm9VVN.js">
<link rel="prefetch" as="script" crossorigin href="/green-digital-skills/_nuxt/PzS8nhaG.js">
<link rel="prefetch" as="script" crossorigin href="/green-digital-skills/_nuxt/D_wltpfa.js">
<link rel="prefetch" as="script" crossorigin href="/green-digital-skills/_nuxt/B3O8JSaZ.js">
<link rel="prefetch" as="script" crossorigin href="/green-digital-skills/_nuxt/DN7Rh_EM.js">
<link rel="icon" type="image" href="/green-digital-skills/styles/nlesc/favicon.png">
<meta property="og:title" content="Code Carbon in R">
<script type="module" src="/green-digital-skills/_nuxt/DcgnBMkC.js" crossorigin></script></head><body><div id="__nuxt"><div class="flex flex-col w-screen bg-gentleBlue h-screen overflow-hidden"><div class="flex p-1 bg-eScienceWhite text-xl items-center text-eSciencePurple z-10"><div class="flex flex-1 gap-10 items-center"><a href="/green-digital-skills/" class=""><div class="text-2xl leading-6 mx-10 font-bold w-20 hover:text-eScienceBlue active:opacity-50">Green Digital Skills</div></a></div><div class="flex align-middle items-center"><div class="flex p-5"><a href="/green-digital-skills/" class="p-5 hover:text-eScienceBlue active:opacity-50"> Modules </a><!--[--><!--[--><a href="/green-digital-skills/main/about" class="p-5 hover:text-eScienceBlue active:opacity-50">About</a><a href="/green-digital-skills/main/contribute" class="p-5 hover:text-eScienceBlue active:opacity-50">Contribute</a><a href="/green-digital-skills/main/workshops" class="p-5 hover:text-eScienceBlue active:opacity-50">Workshops</a><!--]--><!--]--></div><a href="https://www.github.com/esciencecenter-digital-skills/green-digital-skills" rel="noopener noreferrer" target="_blank" class="pl-10"><img src="/green-digital-skills/icons/github-mark.svg" alt="GitHub Logo" width="50px" height="50px" class="align-middle"></a><a href="https://www.esciencecenter.nl" rel="noopener noreferrer" target="_blank" class="px-5"><img src="/green-digital-skills/main/media/nlesc-surf.svg" alt="Organization Logo" width="200px"></a></div></div><div class="flex-1 z-10 overflow-auto"><div class="flex flex-col h-full w-full p-5"><h2 class="prose-2xl font-display mx-16 font-bold text-eSciencePurple w-full pl-2">Software Development</h2><div class="flex no-wrap text-left ml-20 z-10"><!--[--><div><a href="/green-digital-skills/modules/software-development-handson/info" class="flex h-20 m-4 justify-center rounded-bl-xl rounded-tr-xl active:border-2" role="button"><div class="text-2xl px-1.5 py-3 content-center flex-none rounded-bl-xl bg-eScienceYellow"><img src="/green-digital-skills/icons/info.svg" width="25"></div><div class="p-4 flex-initial h-20 max-w-40 text-lg font-display line-clamp-2 font-semibold rounded-tr-xl shadow-xl bg-gentleBlue text-eSciencePurple hover:bg-eScienceWhite hover:text-eScienceBlue">Learning objectives</div></a></div><div><a href="/green-digital-skills/modules/software-development-handson/exercises_good-practices" class="flex h-20 m-4 justify-center rounded-bl-xl rounded-tr-xl active:border-2" role="button"><div class="text-2xl px-1.5 py-3 content-center flex-none rounded-bl-xl bg-eScienceYellow"><img src="/green-digital-skills/icons/exercise.svg" width="25"></div><div class="p-4 flex-initial h-20 max-w-40 text-lg font-display line-clamp-2 font-semibold rounded-tr-xl shadow-xl bg-gentleBlue text-eSciencePurple hover:bg-eScienceWhite hover:text-eScienceBlue">Good Practices</div></a></div><div><a href="/green-digital-skills/modules/software-development-handson/exercises_cicd" class="flex h-20 m-4 justify-center rounded-bl-xl rounded-tr-xl active:border-2" role="button"><div class="text-2xl px-1.5 py-3 content-center flex-none rounded-bl-xl bg-eScienceYellow"><img src="/green-digital-skills/icons/exercise.svg" width="25"></div><div class="p-4 flex-initial h-20 max-w-40 text-lg font-display line-clamp-2 font-semibold rounded-tr-xl shadow-xl bg-gentleBlue text-eSciencePurple hover:bg-eScienceWhite hover:text-eScienceBlue">CI/CD optimization</div></a></div><div><a href="/green-digital-skills/modules/software-development-handson/exercises_codecarbon" class="flex h-20 m-4 justify-center rounded-bl-xl rounded-tr-xl active:border-2" role="button"><div class="text-2xl px-1.5 py-3 content-center flex-none rounded-bl-xl bg-eScienceYellow"><img src="/green-digital-skills/icons/exercise.svg" width="25"></div><div class="p-4 flex-initial h-20 max-w-40 text-lg font-display line-clamp-2 font-semibold rounded-tr-xl shadow-xl bg-gentleBlue text-eSciencePurple hover:bg-eScienceWhite hover:text-eScienceBlue">Code Carbon</div></a></div><div><a aria-current="page" href="/green-digital-skills/modules/software-development-handson/excercises-code-carbon-r" class="router-link-active router-link-exact-active flex h-20 m-4 justify-center rounded-bl-xl rounded-tr-xl active:border-2" role="button"><div class="text-2xl px-1.5 py-3 content-center flex-none rounded-bl-xl bg-eScienceYellow"><img src="/green-digital-skills/icons/exercise.svg" width="25"></div><div class="p-4 flex-initial h-20 max-w-40 text-lg font-display line-clamp-2 font-semibold rounded-tr-xl shadow-xl bg-gentleBlue text-eSciencePurple hover:bg-eScienceWhite hover:text-eScienceBlue">Code Carbon in R</div></a></div><div><a href="/green-digital-skills/modules/software-development-handson/further_reading_module1" class="flex h-20 m-4 justify-center rounded-bl-xl rounded-tr-xl active:border-2" role="button"><div class="text-2xl px-1.5 py-3 content-center flex-none rounded-bl-xl bg-eScienceYellow"><img src="/green-digital-skills/icons/reading.svg" width="25"></div><div class="p-4 flex-initial h-20 max-w-40 text-lg font-display line-clamp-2 font-semibold rounded-tr-xl shadow-xl bg-gentleBlue text-eSciencePurple hover:bg-eScienceWhite hover:text-eScienceBlue">Extra material</div></a></div><!--]--></div><!--[--><div class="flex justify-center items-center"><div class="flex m-4 my-10 w-2/3 bg-eScienceWhite justify-center py-8 px-12"><div class="font-body prose-lg max-w-4xl"><h1 id="codecarbon-in-r"><!--[-->CodeCarbon in R<!--]--></h1><h2 id="introduction"><a href="#introduction"><!--[-->Introduction<!--]--></a></h2><hr><p><!--[-->If you are mainly coding in R, you may want to learn more about the impact of your R code in terms of energy consumption and carbon footprint. However, there aren&#39;t yet as of now R packages that allow to do this in a reliable and user-friendly way. One promising tool is the <a href="https://rishalab.github.io/RJoules/" rel="nofollow"><!--[--><strong><!--[-->RJoules package<!--]--></strong><!--]--></a>; however, it is still in development and restricted to certain operating systems used by developers (i.e., linux).<!--]--></p><p><!--[--><strong><!--[-->CodeCarbon<!--]--></strong> is a Python package that estimates the carbon footprint of code. You can <a href="https://mlco2.github.io/codecarbon/" rel="nofollow"><!--[-->read more about it here<!--]--></a>. This Python module is well documented and easy to use. How sad that it is only available for Python... But there is a way to use it in R! In fact, it is possible and relatively easy to run Python in RStudio. This can be done through the <a href="https://rstudio.github.io/reticulate/" rel="nofollow"><!--[--><code class=""><!--[-->reticulate<!--]--></code><!--]--></a> package, which allows you to run Python code from R directly into your R script. For more complex workflows, <a href="https://quarto.org/docs/computations/python.html" rel="nofollow"><!--[--><strong><!--[-->Quarto<!--]--></strong><!--]--></a> can be used to combine R and Python code in the same document. In fact, Quarto markdown files (.qmd) are exceptionally good at calling R and Python code in the same document, whilst also making it explicit what code belongs to each, using the native syntax for both languages in the same document and analysis workflow.<!--]--></p><p><!--[-->This tutorial shows how to implement CodeCarbon in R through RStudio. An example workflow is provided by measuring the carbon footprint of two different R packages used to fit mixed-effects models. Additionally, time-varying confounding is introduced into the built-in R <code class=""><!--[-->ChickWeight<!--]--></code> data through simulation to compare how different statistical modelling strategies to account for confounding compare in terms of their energy consumption and carbon footprint.<!--]--></p><h2 id="installation"><a href="#installation"><!--[-->Installation<!--]--></a></h2><hr><p><!--[-->The detailed instructions for installation of Python and CodeCarbon are found in the <a href="https://esciencecenter-digital-skills.github.io/green-digital-skills/modules/software-development-handson/exercises_codecarbon" rel="nofollow"><!--[-->prior lesson<!--]--></a>. It is assumed that you have already followed these steps.<!--]--></p><p><!--[-->If you have not done so, <a href="https://posit.co/download/rstudio-desktop/" rel="nofollow"><!--[-->install R and RStudio<!--]--></a>. Note that these demonstrations were conducted under R version 4.4.0 and RStudio 2024.04.0, so it is recommended that you install these or more recent versions.<!--]--></p><p><!--[-->Lastly, all the necessary materials and R scripts for this tutorial can be downloaded from Zenodo (doi: <a href="https://doi.org/10.5281/zenodo.14617645" rel="nofollow"><!--[-->10.5281/zenodo.14617645<!--]--></a>). You can also download the ZIP file by <a href="https://zenodo.org/records/14617645/files/UtrechtUniversity/code-carbon-r-v1.0.0.zip?download=1" rel="nofollow"><!--[-->following this link<!--]--></a>, unpack it, and place it in a familiar folder in your computer.<!--]--></p><h2 id="calling-codecarbon-in-an-r-script"><a href="#calling-codecarbon-in-an-r-script"><!--[-->Calling CodeCarbon in an R script<!--]--></a></h2><hr><p><!--[-->You will found a sample R script named <strong><!--[-->code-carbon-script.R<!--]--></strong> inside the <em><!--[-->R folder<!--]--></em> if you successfully downloaded the material with the prior steps. This script can be adapted to test your own R code. It incorporates the following steps:<!--]--></p><p><!--[-->First, you will need to install the <code class=""><!--[-->reticulate<!--]--></code> package and load it into your session:<!--]--></p><!--[--><pre class="" style=""><!--[--><code>install.packages(&quot;reticulate&quot;)
library(reticulate)
</code><!--]--></pre><!--]--><p><!--[-->Load the CodeCarbon module using the reticulate <a href="https://rstudio.github.io/reticulate/reference/import.html" rel="nofollow"><!--[--><code class=""><!--[-->import<!--]--></code><!--]--></a> function.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>codecarbon &lt;- import(&quot;codecarbon&quot;)
</code><!--]--></pre><!--]--><p><!--[-->Import the OfflineEmissionsTracker class<!--]--></p><!--[--><pre class="" style=""><!--[--><code>OfflineEmissionsTracker &lt;- codecarbon$OfflineEmissionsTracker
</code><!--]--></pre><!--]--><p><!--[-->Set the emissions trackers parameter and initialize. This will automatically detect your system&#39;s characteristics and open a file to save the report later on. You can also specify the country code, timing of measurements, among others. See the <a href="https://mlco2.github.io/codecarbon/parameters.html#id6" rel="nofollow"><!--[-->CodeCarbon documentation<!--]--></a> for more details:<!--]--></p><!--[--><pre class="" style=""><!--[--><code>tracker &lt;- OfflineEmissionsTracker(
  country_iso_code = &quot;NLD&quot;,
  measure_power_secs = 5
)
</code><!--]--></pre><!--]--><p><!--[-->Start tracking the emissions, run your code, and finish tracking once your code ran.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>tracker$start()

# Your R code here

tracker$stop()
</code><!--]--></pre><!--]--><p><!--[-->This will terminate the report and save it in your default working directory, unless you specified earlier the path to save it according to the provided documentation.<!--]--></p><p><!--[-->Note that CodeCarbon will continue to track until you explicitly stop it with <code class=""><!--[-->tracker$stop()<!--]--></code>. Thus, you may want to run all lines of code from start -&gt; code -&gt; stop in one go to measure the consumption of that specific code.<!--]--></p><h2 id="calling-codecarbon-in-a-quarto-markdown-qmd-file-in-rstudio"><a href="#calling-codecarbon-in-a-quarto-markdown-qmd-file-in-rstudio"><!--[-->Calling CodeCarbon in a Quarto markdown (qmd) file in RStudio<!--]--></a></h2><hr><p><!--[-->If you use Quarto, you can call Python and R code in the same document, using their native syntax. For this, you can specify the language of the code block using the <code class=""><!--[-->python<!--]--></code> or <code class=""><!--[-->r<!--]--></code> tags:<!--]--></p><!--[--><pre class="" style=""><!--[--><code>{python}
# Your python code here
</code><!--]--></pre><!--]--><!--[--><pre class="" style=""><!--[--><code>{r}
# Your R code here
</code><!--]--></pre><!--]--><p><!--[-->The advantage of using Quarto is that you don&#39;t need to rewrite python code using the <code class=""><!--[-->reticulate<!--]--></code> syntax. You can simply copy and paste the Python code into the <code class=""><!--[-->python<!--]--></code> code block. This is a great advantage when you are not very familiar with Python and you want to reuse well-documented native python code, or simply to efficiently communicate with Python programmers.<!--]--></p><p><!--[-->Because Rstudio loads the reticulate package once it reads the <code class=""><!--[-->python<!--]--></code> tag, you don&#39;t need to load the <code class=""><!--[-->reticulate<!--]--></code> package in the code block. Thus, we will start by calling the CodeCarbon module in Python.<!--]--></p><h3 id="setup"><a href="#setup"><!--[-->Setup<!--]--></a></h3><p><!--[-->In the downloaded folder, you will find an R project icon named <strong><!--[-->code-carbon-R.Rproj<!--]--></strong>. Open this project in RStudio. This will set a default working directory, which is useful to read the associated scripts and save the emissions reports. Now, navigate to the <strong><!--[-->R<!--]--></strong> folder, where you will find a document called <strong><!--[-->code-carbon-Quarto.qmd<!--]--></strong>. You may open this file in RStudio to reproduce the following steps in the corresponding section.<!--]--></p><blockquote><!--[--><p><!--[--><em><!--[-->Tip: The rest of this tutorial can be followed through the code-carbon-Quarto.qmd file in RStudio.<!--]--></em><!--]--></p><!--]--></blockquote><h3 id="instructions"><a href="#instructions"><!--[-->Instructions<!--]--></a></h3><p><!--[-->Start by pressing the play button below that reads &quot;Run Current Chunk&quot;:<!--]--></p><!--[--><pre class="" style=""><!--[--><code>{python}
# Load the CodeCarbon module
from codecarbon import OfflineEmissionsTracker
</code><!--]--></pre><!--]--><p><!--[-->Then, we will initialize the tracker and start tracking the emissions. Beware that you will need to stop tracking the emissions before with the code that will appear later on in this document to start a new tracker. For this, we can use a safety check to avoid running multiple trackers at the same time.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>{python}
tracker = OfflineEmissionsTracker(country_iso_code=&quot;NLD&quot;,
                                 measure_power_secs=5)

if getattr(tracker, &quot;_start_time&quot;, None) is not None:
    print(&quot;Warning: Tracker is already running! Did you forget to stop it?&quot;)
else:
    tracker.start()
    print(&quot;Tracker started successfully.&quot;)
</code><!--]--></pre><!--]--><p><!--[-->You can now change to R language by using the <code class=""><!--[-->r<!--]--></code> tag. In this code block, you can introduce your R code. For example, a fictitious computationally intensive function for which you would like to test its energy consumption.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>{r}
intense_computation(large_dataset)
</code><!--]--></pre><!--]--><p><!--[-->Finally, you can stop tracking the emissions and print the results. You will again find the report as a csv file in your default working directory.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>{python}
emissions: float = tracker.stop()
print(f&quot;Emissions tracked: {emissions} kg CO₂e&quot;)
</code><!--]--></pre><!--]--><p><!--[-->This value represents the estimated carbon emissions equivalent in kilograms.<!--]--></p><p><!--[-->Combining R and Python code in a .qmd file will work best if you are rendering your document to any of the output report files implemented in Quarto (i.e., PDF, html, docx, slides, etc). This is because code blocks are executed in the order they are found in the document. However, if you mainly work with R scripts, running CodeCarbon with the <code class=""><!--[-->reticulate<!--]--></code> package in R will be the best approach.<!--]--></p><p><!--[-->For the last part of this tutorial, a hybrid approach is used where:<!--]--></p><ol><!--[--><li><!--[-->Individual R scripts are adapted from the sample <strong><!--[-->code-carbon-script.R<!--]--></strong> to include CodeCarbon tracking for every individual task.<!--]--></li><li><!--[-->The individual R scripts are then sourced into the Quarto document to demonstrate the energy consumption and carbon footprint of different R packages used to fit mixed-effects models.<!--]--></li><li><!--[-->This model workflow produces an individual output report for every R script and task, which will be found in the <code class=""><!--[-->emissions<!--]--></code> folder.<!--]--></li><!--]--></ol><p><!--[-->This approach offers the advantage of more precise measurements because every script starts with the initialization of the tracker and ends with the stop command in one go.<!--]--></p><h2 id="demonstration"><a href="#demonstration"><!--[-->Demonstration<!--]--></a></h2><hr><p><!--[-->We will compare two R packages commonly used to fit mixed-effects models that are often compared due to their computational speed. <code class=""><!--[-->lme4<!--]--></code> is suitable for generalized linear mixed models, runs in C++, and is optimized for speed,<sup>1</sup> whereas <code class=""><!--[-->nlme<!--]--></code> can additionally fit non-linear models, but is written in R language (before: S and S-Plus)<sup>2</sup> which makes computations somewhat slower and with a potentially higher carbon footprint.<!--]--></p><p><!--[-->However, there are often preliminary modelling steps needed when trying to elucidate the main effects with these two packages. One example is time varying confounding, for which different modelling approaches have been proposed. Inverse probability weighting (IPW) is a powerful tool for such analyses, but many different models can be used to obtain inverse probability weights to be used in the main mixed-effects models. Generalized linear models can be used as a fast an computationally efficient option to obtain IPW through the built-in <code class=""><!--[-->stats<!--]--></code> R package, which is written in R and C language, but is highly susceptible to incorrect model specification. Novel non-parametric methods are robust to model misspecification,<sup>3</sup> and are implemented in the <code class=""><!--[-->CBPS<!--]--></code> package, which despite running in C++ for computational efficiency, uses intensive and lengthy calculations. These two methods will be compared using Python <code class=""><!--[-->CodeCarbon<!--]--></code>. We will use the <code class=""><!--[-->WeightIt<!--]--></code> package written in R language,<sup>4</sup> which has implemented these two methods and many others which can similarly be tested and compared in terms of energy consumption and carbon footprint.<!--]--></p><p><!--[-->We will use the built-in R <code class=""><!--[-->ChickWeight<!--]--></code> dataset to simulate new data with time-varying treatment-outcome confounding to study the effect of 4 different diets on weight, by accounting for the confounding effect of a time-varying binary disease 1, and an ordinal disease 2, which disease status may also vary in time.<!--]--></p><p><!--[-->First, install and load all the necessary R packages to avoid these one-time installations being tracked by CodeCarbon. The <code class=""><!--[-->pacman<!--]--></code> package nicely handles installation and loading.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>if (!require(&quot;pacman&quot;, quietly = TRUE)) {
  install.packages(&quot;pacman&quot;)
}

pacman::p_load(
  tidyverse,        # Used for basic data handling and visualization.
  conflicted,       # Used to handle conflicts between packages.
  reticulate,       # Used to call Python code in R.
  lme4,             # Used to fit linear mixed-effects models.
  nlme,             # Used to fit non-linear mixed-effects models.
  WeightIt,         # Used to obtain inverse probability weights (IPW).
  CBPS              # Used to obtain non-parametric CBPS IPW.
)

conflicts_prefer(dplyr::select, dplyr::lag, dplyr::filter)
</code><!--]--></pre><!--]--><p><!--[-->We now simulate the data and measure the time required to complete and it&#39;s carbon footprint. The input and output parameters have been adapted in the R script to save the output file in the <code class=""><!--[-->emissions<!--]--></code> folder. By running this chunk of code, you will also see the live emissions tracking as R console output.<!--]--></p><blockquote><!--[--><p><!--[-->Important! If the code is interrupted before finishing, emissions will keep to be tracked and shown until you stop it by running the last line in the scripts. This is important to keep in mind when running new code chunks and start a new tracker. Run tracker$stop() whenever your code is prematurely interrupted before reaching the end of the script.<!--]--></p><!--]--></blockquote><p><!--[-->Tip: If any of the scripts take too long to run, you can try modifying the <code class=""><!--[-->sample_size<!--]--></code> parameter in the <strong><!--[-->data_simulation.R<!--]--></strong> script. This will also be changed below in this code file to explore emissions with different sample sizes.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>source(&quot;data-simulation.R&quot;)
</code><!--]--></pre><!--]--><p><!--[-->Let&#39;s now measure the energy consumption of obtaining inverse probability weights with a generalized linear model (glm) in the built-in <code class=""><!--[-->stats<!--]--></code> R package.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>source(&quot;ipw_glm.R&quot;)
</code><!--]--></pre><!--]--><p><!--[-->And compare against the novel non-parametric method implemented in the <code class=""><!--[-->CBPS<!--]--></code> package. This will take longer to run than the prior steps, so we will track emissions every 5 seconds.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>source(&quot;ipw_CBPS.R&quot;)
</code><!--]--></pre><!--]--><blockquote><!--[--><p><!--[-->Question: Would you prefer the faster glm method or the more robust CBPS method to obtain IPW?<!--]--></p><!--]--></blockquote><p><!--[-->Finally, we will fit the mixed-effects models with the <code class=""><!--[-->lme4<!--]--></code> and <code class=""><!--[-->nlme<!--]--></code> packages, and compare their energy consumption.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>source(&quot;mixed_model_lme4.R&quot;)
</code><!--]--></pre><!--]--><!--[--><pre class="" style=""><!--[--><code>source(&quot;mixed_model_nlme.R&quot;)
</code><!--]--></pre><!--]--><h3 id="simulation-with-a-larger-dataset"><a href="#simulation-with-a-larger-dataset"><!--[-->Simulation with a larger dataset<!--]--></a></h3><p><!--[-->The original tests used 550 observations in a total of 50 chicks. This was sufficient to demonstrate the differences in emissions with the two IPW methods, but not with the different mixed-effects packages. We will next simulate a much larger dataset with 5000 chicks to be able to compare <code class=""><!--[-->lme4<!--]--></code> and <code class=""><!--[-->nlme<!--]--></code>.<!--]--></p><!--[--><pre class="" style=""><!--[--><code># Simulate new data and prepare the dataset for analysis 

simulated_data &lt;- simulate_chickweight(n_chicks = 5000)

analysis_data &lt;- simulated_data %&gt;%
  arrange(Chick, Time) %&gt;%
  group_by(Chick) %&gt;%
  mutate(
    lag_disease_1 = lag(disease_1),
    lag_disease_2 = lag(disease_2),
    lag_weight = lag(weight)
  ) %&gt;%
  ungroup()

analysis_data &lt;- analysis_data %&gt;%
  filter(!is.na(lag_disease_1))
</code><!--]--></pre><!--]--><p><!--[-->We will use the IPW obtained with glm for faster computations.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>source(&quot;ipw_glm.R&quot;)
</code><!--]--></pre><!--]--><p><!--[-->And now we can compare the energy consumption of fitting the exact same model with the <code class=""><!--[-->lme4<!--]--></code> and <code class=""><!--[-->nlme<!--]--></code>.<!--]--></p><!--[--><pre class="" style=""><!--[--><code>source(&quot;mixed_model_lme4.R&quot;)
</code><!--]--></pre><!--]--><!--[--><pre class="" style=""><!--[--><code>source(&quot;mixed_model_nlme.R&quot;)
</code><!--]--></pre><!--]--><blockquote><!--[--><p><!--[-->Question: How do the energy consumption and carbon footprint of the two packages compare with the larger dataset when fitting the same model?<!--]--></p><!--]--></blockquote><h2 id="conclusions"><a href="#conclusions"><!--[-->Conclusions<!--]--></a></h2><hr><p><!--[-->This tutorial provides different alternatives to implement CodeCarbon in R workflows. The provided code can be adapted and used by R code developers and other R users to test the efficiency and carbon footprint of their code. Existing R packages able to perform the same tasks can be compared in terms of energy consumption, which can be an additional criterion to choose between them. However, it should be kept in mind that energy consumption an carbon footprint are among the many factors to consider when choosing between different packages. For instance, it could be justifiable to use a method that consumes more energy and has a higher carbon footprint if it offers other significant advantages.<!--]--></p><h2 id="references"><a href="#references"><!--[-->References<!--]--></a></h2><hr><ol><!--[--><li><!--[-->Bates, Douglas, Martin Mächler, Ben Bolker, and Steve Walker. 2015. “Fitting Linear Mixed-Effects Models Using Lme4.” Journal of Statistical Software 67 (1). <a href="https://doi.org/10.18637/jss.v067.i01" rel="nofollow"><!--[-->https://doi.org/10.18637/jss.v067.i01<!--]--></a>.<!--]--></li><li><!--[-->Fong, Christian, Chad Hazlett, and Kosuke Imai. 2018. “Covariate Balancing Propensity Score for a Continuous Treatment: Application to the Efficacy of Political Advertisements.” The Annals of Applied Statistics 12 (1). <a href="https://doi.org/10.1214/17-aoas1101" rel="nofollow"><!--[-->https://doi.org/10.1214/17-aoas1101<!--]--></a>.<!--]--></li><li><!--[-->Greifer, Noah. 2017. “WeightIt: Weighting for Covariate Balance in Observational Studies.” The R Foundation. <a href="https://doi.org/10.32614/cran.package.weightit" rel="nofollow"><!--[-->https://doi.org/10.32614/cran.package.weightit<!--]--></a>.<!--]--></li><li><!--[-->Pinheiro, José C., and Douglas M. Bates. 2000. Mixed-Effects Models in s and s-PLUS. New York: Springer. <a href="https://doi.org/10.1007/b98882" rel="nofollow"><!--[-->https://doi.org/10.1007/b98882<!--]--></a>.<!--]--></li><!--]--></ol></div></div></div><!--]--></div></div><div id="footer" class="bg-eSciencePurple p-2 font-body text-eScienceWhite text-sm text-center z-10"><div class="text-center"> These materials are developed by the <a href="https://www.esciencecenter.nl" rel="noopener noreferrer" target="_blank">Netherlands eScience Center and SURF</a>. Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a> unless otherwise noted. </div></div><div class="main-blob z-0 yellow-bottom slide-bottom"></div><div class="main-blob z-0 purple-top slide-top"></div></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/green-digital-skills/modules/software-development-handson/excercises-code-carbon-r/_payload.json?bba5b939-a6b2-42dd-b0a2-b2918b0f05c3">[{"state":1,"once":1162,"_errors":1163,"serverRendered":1166,"path":7,"prerenderedAt":1167},["Reactive",2],{"$sdd-pages":3,"$sdd-surrounds":1013,"$sdd-globals":1034,"$sdd-navigation":1036},["ShallowRef",4],["ShallowReactive",5],{"/modules/software-development-handson/excercises-code-carbon-r":6},{"_path":7,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":11,"description":10,"type":12,"order":13,"body":14,"_type":1005,"_id":1006,"_source":1007,"_file":1008,"_stem":1009,"_extension":1010,"plainText":1011,"layout":1012},"/modules/software-development-handson/excercises-code-carbon-r","software-development-handson",false,"","Code Carbon in R","exercise",6,{"type":15,"children":16,"toc":989},"root",[17,26,33,37,58,103,116,122,125,139,153,176,182,185,205,217,226,244,252,257,265,279,287,292,300,305,318,324,327,348,356,364,383,402,409,435,447,453,458,466,471,479,491,499,504,512,517,529,534,568,573,579,582,618,668,680,693,701,713,721,741,749,761,769,781,789,797,816,824,832,838,856,864,869,876,893,900,907,915,921,924,929,935,938],{"type":18,"tag":19,"props":20,"children":22},"element","h1",{"id":21},"codecarbon-in-r",[23],{"type":24,"value":25},"text","CodeCarbon in R",{"type":18,"tag":27,"props":28,"children":30},"h2",{"id":29},"introduction",[31],{"type":24,"value":32},"Introduction",{"type":18,"tag":34,"props":35,"children":36},"hr",{},[],{"type":18,"tag":38,"props":39,"children":40},"p",{},[41,43,56],{"type":24,"value":42},"If you are mainly coding in R, you may want to learn more about the impact of your R code in terms of energy consumption and carbon footprint. However, there aren't yet as of now R packages that allow to do this in a reliable and user-friendly way. One promising tool is the ",{"type":18,"tag":44,"props":45,"children":49},"a",{"href":46,"rel":47},"https://rishalab.github.io/RJoules/",[48],"nofollow",[50],{"type":18,"tag":51,"props":52,"children":53},"strong",{},[54],{"type":24,"value":55},"RJoules package",{"type":24,"value":57},"; however, it is still in development and restricted to certain operating systems used by developers (i.e., linux).",{"type":18,"tag":38,"props":59,"children":60},{},[61,66,68,75,77,89,91,101],{"type":18,"tag":51,"props":62,"children":63},{},[64],{"type":24,"value":65},"CodeCarbon",{"type":24,"value":67}," is a Python package that estimates the carbon footprint of code. You can ",{"type":18,"tag":44,"props":69,"children":72},{"href":70,"rel":71},"https://mlco2.github.io/codecarbon/",[48],[73],{"type":24,"value":74},"read more about it here",{"type":24,"value":76},". This Python module is well documented and easy to use. How sad that it is only available for Python... But there is a way to use it in R! In fact, it is possible and relatively easy to run Python in RStudio. This can be done through the ",{"type":18,"tag":44,"props":78,"children":81},{"href":79,"rel":80},"https://rstudio.github.io/reticulate/",[48],[82],{"type":18,"tag":83,"props":84,"children":86},"code",{"className":85},[],[87],{"type":24,"value":88},"reticulate",{"type":24,"value":90}," package, which allows you to run Python code from R directly into your R script. For more complex workflows, ",{"type":18,"tag":44,"props":92,"children":95},{"href":93,"rel":94},"https://quarto.org/docs/computations/python.html",[48],[96],{"type":18,"tag":51,"props":97,"children":98},{},[99],{"type":24,"value":100},"Quarto",{"type":24,"value":102}," can be used to combine R and Python code in the same document. In fact, Quarto markdown files (.qmd) are exceptionally good at calling R and Python code in the same document, whilst also making it explicit what code belongs to each, using the native syntax for both languages in the same document and analysis workflow.",{"type":18,"tag":38,"props":104,"children":105},{},[106,108,114],{"type":24,"value":107},"This tutorial shows how to implement CodeCarbon in R through RStudio. An example workflow is provided by measuring the carbon footprint of two different R packages used to fit mixed-effects models. Additionally, time-varying confounding is introduced into the built-in R ",{"type":18,"tag":83,"props":109,"children":111},{"className":110},[],[112],{"type":24,"value":113},"ChickWeight",{"type":24,"value":115}," data through simulation to compare how different statistical modelling strategies to account for confounding compare in terms of their energy consumption and carbon footprint.",{"type":18,"tag":27,"props":117,"children":119},{"id":118},"installation",[120],{"type":24,"value":121},"Installation",{"type":18,"tag":34,"props":123,"children":124},{},[],{"type":18,"tag":38,"props":126,"children":127},{},[128,130,137],{"type":24,"value":129},"The detailed instructions for installation of Python and CodeCarbon are found in the ",{"type":18,"tag":44,"props":131,"children":134},{"href":132,"rel":133},"https://esciencecenter-digital-skills.github.io/green-digital-skills/modules/software-development-handson/exercises_codecarbon",[48],[135],{"type":24,"value":136},"prior lesson",{"type":24,"value":138},". It is assumed that you have already followed these steps.",{"type":18,"tag":38,"props":140,"children":141},{},[142,144,151],{"type":24,"value":143},"If you have not done so, ",{"type":18,"tag":44,"props":145,"children":148},{"href":146,"rel":147},"https://posit.co/download/rstudio-desktop/",[48],[149],{"type":24,"value":150},"install R and RStudio",{"type":24,"value":152},". Note that these demonstrations were conducted under R version 4.4.0 and RStudio 2024.04.0, so it is recommended that you install these or more recent versions.",{"type":18,"tag":38,"props":154,"children":155},{},[156,158,165,167,174],{"type":24,"value":157},"Lastly, all the necessary materials and R scripts for this tutorial can be downloaded from Zenodo (doi: ",{"type":18,"tag":44,"props":159,"children":162},{"href":160,"rel":161},"https://doi.org/10.5281/zenodo.14617645",[48],[163],{"type":24,"value":164},"10.5281/zenodo.14617645",{"type":24,"value":166},"). You can also download the ZIP file by ",{"type":18,"tag":44,"props":168,"children":171},{"href":169,"rel":170},"https://zenodo.org/records/14617645/files/UtrechtUniversity/code-carbon-r-v1.0.0.zip?download=1",[48],[172],{"type":24,"value":173},"following this link",{"type":24,"value":175},", unpack it, and place it in a familiar folder in your computer.",{"type":18,"tag":27,"props":177,"children":179},{"id":178},"calling-codecarbon-in-an-r-script",[180],{"type":24,"value":181},"Calling CodeCarbon in an R script",{"type":18,"tag":34,"props":183,"children":184},{},[],{"type":18,"tag":38,"props":186,"children":187},{},[188,190,195,197,203],{"type":24,"value":189},"You will found a sample R script named ",{"type":18,"tag":51,"props":191,"children":192},{},[193],{"type":24,"value":194},"code-carbon-script.R",{"type":24,"value":196}," inside the ",{"type":18,"tag":198,"props":199,"children":200},"em",{},[201],{"type":24,"value":202},"R folder",{"type":24,"value":204}," if you successfully downloaded the material with the prior steps. This script can be adapted to test your own R code. It incorporates the following steps:",{"type":18,"tag":38,"props":206,"children":207},{},[208,210,215],{"type":24,"value":209},"First, you will need to install the ",{"type":18,"tag":83,"props":211,"children":213},{"className":212},[],[214],{"type":24,"value":88},{"type":24,"value":216}," package and load it into your session:",{"type":18,"tag":218,"props":219,"children":221},"pre",{"code":220},"install.packages(\"reticulate\")\nlibrary(reticulate)\n",[222],{"type":18,"tag":83,"props":223,"children":224},{"__ignoreMap":10},[225],{"type":24,"value":220},{"type":18,"tag":38,"props":227,"children":228},{},[229,231,242],{"type":24,"value":230},"Load the CodeCarbon module using the reticulate ",{"type":18,"tag":44,"props":232,"children":235},{"href":233,"rel":234},"https://rstudio.github.io/reticulate/reference/import.html",[48],[236],{"type":18,"tag":83,"props":237,"children":239},{"className":238},[],[240],{"type":24,"value":241},"import",{"type":24,"value":243}," function.",{"type":18,"tag":218,"props":245,"children":247},{"code":246},"codecarbon \u003C- import(\"codecarbon\")\n",[248],{"type":18,"tag":83,"props":249,"children":250},{"__ignoreMap":10},[251],{"type":24,"value":246},{"type":18,"tag":38,"props":253,"children":254},{},[255],{"type":24,"value":256},"Import the OfflineEmissionsTracker class",{"type":18,"tag":218,"props":258,"children":260},{"code":259},"OfflineEmissionsTracker \u003C- codecarbon$OfflineEmissionsTracker\n",[261],{"type":18,"tag":83,"props":262,"children":263},{"__ignoreMap":10},[264],{"type":24,"value":259},{"type":18,"tag":38,"props":266,"children":267},{},[268,270,277],{"type":24,"value":269},"Set the emissions trackers parameter and initialize. This will automatically detect your system's characteristics and open a file to save the report later on. You can also specify the country code, timing of measurements, among others. See the ",{"type":18,"tag":44,"props":271,"children":274},{"href":272,"rel":273},"https://mlco2.github.io/codecarbon/parameters.html#id6",[48],[275],{"type":24,"value":276},"CodeCarbon documentation",{"type":24,"value":278}," for more details:",{"type":18,"tag":218,"props":280,"children":282},{"code":281},"tracker \u003C- OfflineEmissionsTracker(\n  country_iso_code = \"NLD\",\n  measure_power_secs = 5\n)\n",[283],{"type":18,"tag":83,"props":284,"children":285},{"__ignoreMap":10},[286],{"type":24,"value":281},{"type":18,"tag":38,"props":288,"children":289},{},[290],{"type":24,"value":291},"Start tracking the emissions, run your code, and finish tracking once your code ran.",{"type":18,"tag":218,"props":293,"children":295},{"code":294},"tracker$start()\n\n# Your R code here\n\ntracker$stop()\n",[296],{"type":18,"tag":83,"props":297,"children":298},{"__ignoreMap":10},[299],{"type":24,"value":294},{"type":18,"tag":38,"props":301,"children":302},{},[303],{"type":24,"value":304},"This will terminate the report and save it in your default working directory, unless you specified earlier the path to save it according to the provided documentation.",{"type":18,"tag":38,"props":306,"children":307},{},[308,310,316],{"type":24,"value":309},"Note that CodeCarbon will continue to track until you explicitly stop it with ",{"type":18,"tag":83,"props":311,"children":313},{"className":312},[],[314],{"type":24,"value":315},"tracker$stop()",{"type":24,"value":317},". Thus, you may want to run all lines of code from start -> code -> stop in one go to measure the consumption of that specific code.",{"type":18,"tag":27,"props":319,"children":321},{"id":320},"calling-codecarbon-in-a-quarto-markdown-qmd-file-in-rstudio",[322],{"type":24,"value":323},"Calling CodeCarbon in a Quarto markdown (qmd) file in RStudio",{"type":18,"tag":34,"props":325,"children":326},{},[],{"type":18,"tag":38,"props":328,"children":329},{},[330,332,338,340,346],{"type":24,"value":331},"If you use Quarto, you can call Python and R code in the same document, using their native syntax. For this, you can specify the language of the code block using the ",{"type":18,"tag":83,"props":333,"children":335},{"className":334},[],[336],{"type":24,"value":337},"python",{"type":24,"value":339}," or ",{"type":18,"tag":83,"props":341,"children":343},{"className":342},[],[344],{"type":24,"value":345},"r",{"type":24,"value":347}," tags:",{"type":18,"tag":218,"props":349,"children":351},{"code":350},"{python}\n# Your python code here\n",[352],{"type":18,"tag":83,"props":353,"children":354},{"__ignoreMap":10},[355],{"type":24,"value":350},{"type":18,"tag":218,"props":357,"children":359},{"code":358},"{r}\n# Your R code here\n",[360],{"type":18,"tag":83,"props":361,"children":362},{"__ignoreMap":10},[363],{"type":24,"value":358},{"type":18,"tag":38,"props":365,"children":366},{},[367,369,374,376,381],{"type":24,"value":368},"The advantage of using Quarto is that you don't need to rewrite python code using the ",{"type":18,"tag":83,"props":370,"children":372},{"className":371},[],[373],{"type":24,"value":88},{"type":24,"value":375}," syntax. You can simply copy and paste the Python code into the ",{"type":18,"tag":83,"props":377,"children":379},{"className":378},[],[380],{"type":24,"value":337},{"type":24,"value":382}," code block. This is a great advantage when you are not very familiar with Python and you want to reuse well-documented native python code, or simply to efficiently communicate with Python programmers.",{"type":18,"tag":38,"props":384,"children":385},{},[386,388,393,395,400],{"type":24,"value":387},"Because Rstudio loads the reticulate package once it reads the ",{"type":18,"tag":83,"props":389,"children":391},{"className":390},[],[392],{"type":24,"value":337},{"type":24,"value":394}," tag, you don't need to load the ",{"type":18,"tag":83,"props":396,"children":398},{"className":397},[],[399],{"type":24,"value":88},{"type":24,"value":401}," package in the code block. Thus, we will start by calling the CodeCarbon module in Python.",{"type":18,"tag":403,"props":404,"children":406},"h3",{"id":405},"setup",[407],{"type":24,"value":408},"Setup",{"type":18,"tag":38,"props":410,"children":411},{},[412,414,419,421,426,428,433],{"type":24,"value":413},"In the downloaded folder, you will find an R project icon named ",{"type":18,"tag":51,"props":415,"children":416},{},[417],{"type":24,"value":418},"code-carbon-R.Rproj",{"type":24,"value":420},". Open this project in RStudio. This will set a default working directory, which is useful to read the associated scripts and save the emissions reports. Now, navigate to the ",{"type":18,"tag":51,"props":422,"children":423},{},[424],{"type":24,"value":425},"R",{"type":24,"value":427}," folder, where you will find a document called ",{"type":18,"tag":51,"props":429,"children":430},{},[431],{"type":24,"value":432},"code-carbon-Quarto.qmd",{"type":24,"value":434},". You may open this file in RStudio to reproduce the following steps in the corresponding section.",{"type":18,"tag":436,"props":437,"children":438},"blockquote",{},[439],{"type":18,"tag":38,"props":440,"children":441},{},[442],{"type":18,"tag":198,"props":443,"children":444},{},[445],{"type":24,"value":446},"Tip: The rest of this tutorial can be followed through the code-carbon-Quarto.qmd file in RStudio.",{"type":18,"tag":403,"props":448,"children":450},{"id":449},"instructions",[451],{"type":24,"value":452},"Instructions",{"type":18,"tag":38,"props":454,"children":455},{},[456],{"type":24,"value":457},"Start by pressing the play button below that reads \"Run Current Chunk\":",{"type":18,"tag":218,"props":459,"children":461},{"code":460},"{python}\n# Load the CodeCarbon module\nfrom codecarbon import OfflineEmissionsTracker\n",[462],{"type":18,"tag":83,"props":463,"children":464},{"__ignoreMap":10},[465],{"type":24,"value":460},{"type":18,"tag":38,"props":467,"children":468},{},[469],{"type":24,"value":470},"Then, we will initialize the tracker and start tracking the emissions. Beware that you will need to stop tracking the emissions before with the code that will appear later on in this document to start a new tracker. For this, we can use a safety check to avoid running multiple trackers at the same time.",{"type":18,"tag":218,"props":472,"children":474},{"code":473},"{python}\ntracker = OfflineEmissionsTracker(country_iso_code=\"NLD\",\n                                 measure_power_secs=5)\n\nif getattr(tracker, \"_start_time\", None) is not None:\n    print(\"Warning: Tracker is already running! Did you forget to stop it?\")\nelse:\n    tracker.start()\n    print(\"Tracker started successfully.\")\n",[475],{"type":18,"tag":83,"props":476,"children":477},{"__ignoreMap":10},[478],{"type":24,"value":473},{"type":18,"tag":38,"props":480,"children":481},{},[482,484,489],{"type":24,"value":483},"You can now change to R language by using the ",{"type":18,"tag":83,"props":485,"children":487},{"className":486},[],[488],{"type":24,"value":345},{"type":24,"value":490}," tag. In this code block, you can introduce your R code. For example, a fictitious computationally intensive function for which you would like to test its energy consumption.",{"type":18,"tag":218,"props":492,"children":494},{"code":493},"{r}\nintense_computation(large_dataset)\n",[495],{"type":18,"tag":83,"props":496,"children":497},{"__ignoreMap":10},[498],{"type":24,"value":493},{"type":18,"tag":38,"props":500,"children":501},{},[502],{"type":24,"value":503},"Finally, you can stop tracking the emissions and print the results. You will again find the report as a csv file in your default working directory.",{"type":18,"tag":218,"props":505,"children":507},{"code":506},"{python}\nemissions: float = tracker.stop()\nprint(f\"Emissions tracked: {emissions} kg CO₂e\")\n",[508],{"type":18,"tag":83,"props":509,"children":510},{"__ignoreMap":10},[511],{"type":24,"value":506},{"type":18,"tag":38,"props":513,"children":514},{},[515],{"type":24,"value":516},"This value represents the estimated carbon emissions equivalent in kilograms.",{"type":18,"tag":38,"props":518,"children":519},{},[520,522,527],{"type":24,"value":521},"Combining R and Python code in a .qmd file will work best if you are rendering your document to any of the output report files implemented in Quarto (i.e., PDF, html, docx, slides, etc). This is because code blocks are executed in the order they are found in the document. However, if you mainly work with R scripts, running CodeCarbon with the ",{"type":18,"tag":83,"props":523,"children":525},{"className":524},[],[526],{"type":24,"value":88},{"type":24,"value":528}," package in R will be the best approach.",{"type":18,"tag":38,"props":530,"children":531},{},[532],{"type":24,"value":533},"For the last part of this tutorial, a hybrid approach is used where:",{"type":18,"tag":535,"props":536,"children":537},"ol",{},[538,550,555],{"type":18,"tag":539,"props":540,"children":541},"li",{},[542,544,548],{"type":24,"value":543},"Individual R scripts are adapted from the sample ",{"type":18,"tag":51,"props":545,"children":546},{},[547],{"type":24,"value":194},{"type":24,"value":549}," to include CodeCarbon tracking for every individual task.",{"type":18,"tag":539,"props":551,"children":552},{},[553],{"type":24,"value":554},"The individual R scripts are then sourced into the Quarto document to demonstrate the energy consumption and carbon footprint of different R packages used to fit mixed-effects models.",{"type":18,"tag":539,"props":556,"children":557},{},[558,560,566],{"type":24,"value":559},"This model workflow produces an individual output report for every R script and task, which will be found in the ",{"type":18,"tag":83,"props":561,"children":563},{"className":562},[],[564],{"type":24,"value":565},"emissions",{"type":24,"value":567}," folder.",{"type":18,"tag":38,"props":569,"children":570},{},[571],{"type":24,"value":572},"This approach offers the advantage of more precise measurements because every script starts with the initialization of the tracker and ends with the stop command in one go.",{"type":18,"tag":27,"props":574,"children":576},{"id":575},"demonstration",[577],{"type":24,"value":578},"Demonstration",{"type":18,"tag":34,"props":580,"children":581},{},[],{"type":18,"tag":38,"props":583,"children":584},{},[585,587,593,595,601,603,609,611,616],{"type":24,"value":586},"We will compare two R packages commonly used to fit mixed-effects models that are often compared due to their computational speed. ",{"type":18,"tag":83,"props":588,"children":590},{"className":589},[],[591],{"type":24,"value":592},"lme4",{"type":24,"value":594}," is suitable for generalized linear mixed models, runs in C++, and is optimized for speed,",{"type":18,"tag":596,"props":597,"children":598},"sup",{},[599],{"type":24,"value":600},"1",{"type":24,"value":602}," whereas ",{"type":18,"tag":83,"props":604,"children":606},{"className":605},[],[607],{"type":24,"value":608},"nlme",{"type":24,"value":610}," can additionally fit non-linear models, but is written in R language (before: S and S-Plus)",{"type":18,"tag":596,"props":612,"children":613},{},[614],{"type":24,"value":615},"2",{"type":24,"value":617}," which makes computations somewhat slower and with a potentially higher carbon footprint.",{"type":18,"tag":38,"props":619,"children":620},{},[621,623,629,631,636,638,644,646,651,653,659,661,666],{"type":24,"value":622},"However, there are often preliminary modelling steps needed when trying to elucidate the main effects with these two packages. One example is time varying confounding, for which different modelling approaches have been proposed. Inverse probability weighting (IPW) is a powerful tool for such analyses, but many different models can be used to obtain inverse probability weights to be used in the main mixed-effects models. Generalized linear models can be used as a fast an computationally efficient option to obtain IPW through the built-in ",{"type":18,"tag":83,"props":624,"children":626},{"className":625},[],[627],{"type":24,"value":628},"stats",{"type":24,"value":630}," R package, which is written in R and C language, but is highly susceptible to incorrect model specification. Novel non-parametric methods are robust to model misspecification,",{"type":18,"tag":596,"props":632,"children":633},{},[634],{"type":24,"value":635},"3",{"type":24,"value":637}," and are implemented in the ",{"type":18,"tag":83,"props":639,"children":641},{"className":640},[],[642],{"type":24,"value":643},"CBPS",{"type":24,"value":645}," package, which despite running in C++ for computational efficiency, uses intensive and lengthy calculations. These two methods will be compared using Python ",{"type":18,"tag":83,"props":647,"children":649},{"className":648},[],[650],{"type":24,"value":65},{"type":24,"value":652},". We will use the ",{"type":18,"tag":83,"props":654,"children":656},{"className":655},[],[657],{"type":24,"value":658},"WeightIt",{"type":24,"value":660}," package written in R language,",{"type":18,"tag":596,"props":662,"children":663},{},[664],{"type":24,"value":665},"4",{"type":24,"value":667}," which has implemented these two methods and many others which can similarly be tested and compared in terms of energy consumption and carbon footprint.",{"type":18,"tag":38,"props":669,"children":670},{},[671,673,678],{"type":24,"value":672},"We will use the built-in R ",{"type":18,"tag":83,"props":674,"children":676},{"className":675},[],[677],{"type":24,"value":113},{"type":24,"value":679}," dataset to simulate new data with time-varying treatment-outcome confounding to study the effect of 4 different diets on weight, by accounting for the confounding effect of a time-varying binary disease 1, and an ordinal disease 2, which disease status may also vary in time.",{"type":18,"tag":38,"props":681,"children":682},{},[683,685,691],{"type":24,"value":684},"First, install and load all the necessary R packages to avoid these one-time installations being tracked by CodeCarbon. The ",{"type":18,"tag":83,"props":686,"children":688},{"className":687},[],[689],{"type":24,"value":690},"pacman",{"type":24,"value":692}," package nicely handles installation and loading.",{"type":18,"tag":218,"props":694,"children":696},{"code":695,"meta":10},"if (!require(\"pacman\", quietly = TRUE)) {\n  install.packages(\"pacman\")\n}\n\npacman::p_load(\n  tidyverse,        # Used for basic data handling and visualization.\n  conflicted,       # Used to handle conflicts between packages.\n  reticulate,       # Used to call Python code in R.\n  lme4,             # Used to fit linear mixed-effects models.\n  nlme,             # Used to fit non-linear mixed-effects models.\n  WeightIt,         # Used to obtain inverse probability weights (IPW).\n  CBPS              # Used to obtain non-parametric CBPS IPW.\n)\n\nconflicts_prefer(dplyr::select, dplyr::lag, dplyr::filter)\n",[697],{"type":18,"tag":83,"props":698,"children":699},{"__ignoreMap":10},[700],{"type":24,"value":695},{"type":18,"tag":38,"props":702,"children":703},{},[704,706,711],{"type":24,"value":705},"We now simulate the data and measure the time required to complete and it's carbon footprint. The input and output parameters have been adapted in the R script to save the output file in the ",{"type":18,"tag":83,"props":707,"children":709},{"className":708},[],[710],{"type":24,"value":565},{"type":24,"value":712}," folder. By running this chunk of code, you will also see the live emissions tracking as R console output.",{"type":18,"tag":436,"props":714,"children":715},{},[716],{"type":18,"tag":38,"props":717,"children":718},{},[719],{"type":24,"value":720},"Important! If the code is interrupted before finishing, emissions will keep to be tracked and shown until you stop it by running the last line in the scripts. This is important to keep in mind when running new code chunks and start a new tracker. Run tracker$stop() whenever your code is prematurely interrupted before reaching the end of the script.",{"type":18,"tag":38,"props":722,"children":723},{},[724,726,732,734,739],{"type":24,"value":725},"Tip: If any of the scripts take too long to run, you can try modifying the ",{"type":18,"tag":83,"props":727,"children":729},{"className":728},[],[730],{"type":24,"value":731},"sample_size",{"type":24,"value":733}," parameter in the ",{"type":18,"tag":51,"props":735,"children":736},{},[737],{"type":24,"value":738},"data_simulation.R",{"type":24,"value":740}," script. This will also be changed below in this code file to explore emissions with different sample sizes.",{"type":18,"tag":218,"props":742,"children":744},{"code":743,"meta":10},"source(\"data-simulation.R\")\n",[745],{"type":18,"tag":83,"props":746,"children":747},{"__ignoreMap":10},[748],{"type":24,"value":743},{"type":18,"tag":38,"props":750,"children":751},{},[752,754,759],{"type":24,"value":753},"Let's now measure the energy consumption of obtaining inverse probability weights with a generalized linear model (glm) in the built-in ",{"type":18,"tag":83,"props":755,"children":757},{"className":756},[],[758],{"type":24,"value":628},{"type":24,"value":760}," R package.",{"type":18,"tag":218,"props":762,"children":764},{"code":763,"meta":10},"source(\"ipw_glm.R\")\n",[765],{"type":18,"tag":83,"props":766,"children":767},{"__ignoreMap":10},[768],{"type":24,"value":763},{"type":18,"tag":38,"props":770,"children":771},{},[772,774,779],{"type":24,"value":773},"And compare against the novel non-parametric method implemented in the ",{"type":18,"tag":83,"props":775,"children":777},{"className":776},[],[778],{"type":24,"value":643},{"type":24,"value":780}," package. This will take longer to run than the prior steps, so we will track emissions every 5 seconds.",{"type":18,"tag":218,"props":782,"children":784},{"code":783,"meta":10},"source(\"ipw_CBPS.R\")\n",[785],{"type":18,"tag":83,"props":786,"children":787},{"__ignoreMap":10},[788],{"type":24,"value":783},{"type":18,"tag":436,"props":790,"children":791},{},[792],{"type":18,"tag":38,"props":793,"children":794},{},[795],{"type":24,"value":796},"Question: Would you prefer the faster glm method or the more robust CBPS method to obtain IPW?",{"type":18,"tag":38,"props":798,"children":799},{},[800,802,807,809,814],{"type":24,"value":801},"Finally, we will fit the mixed-effects models with the ",{"type":18,"tag":83,"props":803,"children":805},{"className":804},[],[806],{"type":24,"value":592},{"type":24,"value":808}," and ",{"type":18,"tag":83,"props":810,"children":812},{"className":811},[],[813],{"type":24,"value":608},{"type":24,"value":815}," packages, and compare their energy consumption.",{"type":18,"tag":218,"props":817,"children":819},{"code":818,"meta":10},"source(\"mixed_model_lme4.R\")\n",[820],{"type":18,"tag":83,"props":821,"children":822},{"__ignoreMap":10},[823],{"type":24,"value":818},{"type":18,"tag":218,"props":825,"children":827},{"code":826,"meta":10},"source(\"mixed_model_nlme.R\")\n",[828],{"type":18,"tag":83,"props":829,"children":830},{"__ignoreMap":10},[831],{"type":24,"value":826},{"type":18,"tag":403,"props":833,"children":835},{"id":834},"simulation-with-a-larger-dataset",[836],{"type":24,"value":837},"Simulation with a larger dataset",{"type":18,"tag":38,"props":839,"children":840},{},[841,843,848,849,854],{"type":24,"value":842},"The original tests used 550 observations in a total of 50 chicks. This was sufficient to demonstrate the differences in emissions with the two IPW methods, but not with the different mixed-effects packages. We will next simulate a much larger dataset with 5000 chicks to be able to compare ",{"type":18,"tag":83,"props":844,"children":846},{"className":845},[],[847],{"type":24,"value":592},{"type":24,"value":808},{"type":18,"tag":83,"props":850,"children":852},{"className":851},[],[853],{"type":24,"value":608},{"type":24,"value":855},".",{"type":18,"tag":218,"props":857,"children":859},{"code":858,"meta":10},"# Simulate new data and prepare the dataset for analysis \n\nsimulated_data \u003C- simulate_chickweight(n_chicks = 5000)\n\nanalysis_data \u003C- simulated_data %>%\n  arrange(Chick, Time) %>%\n  group_by(Chick) %>%\n  mutate(\n    lag_disease_1 = lag(disease_1),\n    lag_disease_2 = lag(disease_2),\n    lag_weight = lag(weight)\n  ) %>%\n  ungroup()\n\nanalysis_data \u003C- analysis_data %>%\n  filter(!is.na(lag_disease_1))\n",[860],{"type":18,"tag":83,"props":861,"children":862},{"__ignoreMap":10},[863],{"type":24,"value":858},{"type":18,"tag":38,"props":865,"children":866},{},[867],{"type":24,"value":868},"We will use the IPW obtained with glm for faster computations.",{"type":18,"tag":218,"props":870,"children":871},{"code":763,"meta":10},[872],{"type":18,"tag":83,"props":873,"children":874},{"__ignoreMap":10},[875],{"type":24,"value":763},{"type":18,"tag":38,"props":877,"children":878},{},[879,881,886,887,892],{"type":24,"value":880},"And now we can compare the energy consumption of fitting the exact same model with the ",{"type":18,"tag":83,"props":882,"children":884},{"className":883},[],[885],{"type":24,"value":592},{"type":24,"value":808},{"type":18,"tag":83,"props":888,"children":890},{"className":889},[],[891],{"type":24,"value":608},{"type":24,"value":855},{"type":18,"tag":218,"props":894,"children":895},{"code":818,"meta":10},[896],{"type":18,"tag":83,"props":897,"children":898},{"__ignoreMap":10},[899],{"type":24,"value":818},{"type":18,"tag":218,"props":901,"children":902},{"code":826,"meta":10},[903],{"type":18,"tag":83,"props":904,"children":905},{"__ignoreMap":10},[906],{"type":24,"value":826},{"type":18,"tag":436,"props":908,"children":909},{},[910],{"type":18,"tag":38,"props":911,"children":912},{},[913],{"type":24,"value":914},"Question: How do the energy consumption and carbon footprint of the two packages compare with the larger dataset when fitting the same model?",{"type":18,"tag":27,"props":916,"children":918},{"id":917},"conclusions",[919],{"type":24,"value":920},"Conclusions",{"type":18,"tag":34,"props":922,"children":923},{},[],{"type":18,"tag":38,"props":925,"children":926},{},[927],{"type":24,"value":928},"This tutorial provides different alternatives to implement CodeCarbon in R workflows. The provided code can be adapted and used by R code developers and other R users to test the efficiency and carbon footprint of their code. Existing R packages able to perform the same tasks can be compared in terms of energy consumption, which can be an additional criterion to choose between them. However, it should be kept in mind that energy consumption an carbon footprint are among the many factors to consider when choosing between different packages. For instance, it could be justifiable to use a method that consumes more energy and has a higher carbon footprint if it offers other significant advantages.",{"type":18,"tag":27,"props":930,"children":932},{"id":931},"references",[933],{"type":24,"value":934},"References",{"type":18,"tag":34,"props":936,"children":937},{},[],{"type":18,"tag":535,"props":939,"children":940},{},[941,953,965,977],{"type":18,"tag":539,"props":942,"children":943},{},[944,946,952],{"type":24,"value":945},"Bates, Douglas, Martin Mächler, Ben Bolker, and Steve Walker. 2015. “Fitting Linear Mixed-Effects Models Using Lme4.” Journal of Statistical Software 67 (1). ",{"type":18,"tag":44,"props":947,"children":950},{"href":948,"rel":949},"https://doi.org/10.18637/jss.v067.i01",[48],[951],{"type":24,"value":948},{"type":24,"value":855},{"type":18,"tag":539,"props":954,"children":955},{},[956,958,964],{"type":24,"value":957},"Fong, Christian, Chad Hazlett, and Kosuke Imai. 2018. “Covariate Balancing Propensity Score for a Continuous Treatment: Application to the Efficacy of Political Advertisements.” The Annals of Applied Statistics 12 (1). ",{"type":18,"tag":44,"props":959,"children":962},{"href":960,"rel":961},"https://doi.org/10.1214/17-aoas1101",[48],[963],{"type":24,"value":960},{"type":24,"value":855},{"type":18,"tag":539,"props":966,"children":967},{},[968,970,976],{"type":24,"value":969},"Greifer, Noah. 2017. “WeightIt: Weighting for Covariate Balance in Observational Studies.” The R Foundation. ",{"type":18,"tag":44,"props":971,"children":974},{"href":972,"rel":973},"https://doi.org/10.32614/cran.package.weightit",[48],[975],{"type":24,"value":972},{"type":24,"value":855},{"type":18,"tag":539,"props":978,"children":979},{},[980,982,988],{"type":24,"value":981},"Pinheiro, José C., and Douglas M. Bates. 2000. Mixed-Effects Models in s and s-PLUS. New York: Springer. ",{"type":18,"tag":44,"props":983,"children":986},{"href":984,"rel":985},"https://doi.org/10.1007/b98882",[48],[987],{"type":24,"value":984},{"type":24,"value":855},{"title":10,"searchDepth":990,"depth":990,"links":991},2,[992,993,994,995,1000,1003,1004],{"id":29,"depth":990,"text":32},{"id":118,"depth":990,"text":121},{"id":178,"depth":990,"text":181},{"id":320,"depth":990,"text":323,"children":996},[997,999],{"id":405,"depth":998,"text":408},3,{"id":449,"depth":998,"text":452},{"id":575,"depth":990,"text":578,"children":1001},[1002],{"id":834,"depth":998,"text":837},{"id":917,"depth":990,"text":920},{"id":931,"depth":990,"text":934},"markdown","local_fs:modules:software-development-handson:excercises-code-carbon-r.md","local_fs","modules/software-development-handson/excercises-code-carbon-r.md","modules/software-development-handson/excercises-code-carbon-r","md","---\ntitle: \"Code Carbon in R\"\ntype: exercise\norder: 6\n---\n\n# CodeCarbon in R\n\n## Introduction\n---------------\n\nIf you are mainly coding in R, you may want to learn more about the impact of your R code in terms of energy consumption and carbon footprint. However, there aren't yet as of now R packages that allow to do this in a reliable and user-friendly way. One promising tool is the [**RJoules package**](https://rishalab.github.io/RJoules/); however, it is still in development and restricted to certain operating systems used by developers (i.e., linux).\n\n**CodeCarbon** is a Python package that estimates the carbon footprint of code. You can [read more about it here](https://mlco2.github.io/codecarbon/). This Python module is well documented and easy to use. How sad that it is only available for Python... But there is a way to use it in R! In fact, it is possible and relatively easy to run Python in RStudio. This can be done through the [`reticulate`](https://rstudio.github.io/reticulate/) package, which allows you to run Python code from R directly into your R script. For more complex workflows, [**Quarto**](https://quarto.org/docs/computations/python.html) can be used to combine R and Python code in the same document. In fact, Quarto markdown files (.qmd) are exceptionally good at calling R and Python code in the same document, whilst also making it explicit what code belongs to each, using the native syntax for both languages in the same document and analysis workflow.\n\nThis tutorial shows how to implement CodeCarbon in R through RStudio. An example workflow is provided by measuring the carbon footprint of two different R packages used to fit mixed-effects models. Additionally, time-varying confounding is introduced into the built-in R `ChickWeight` data through simulation to compare how different statistical modelling strategies to account for confounding compare in terms of their energy consumption and carbon footprint.\n\n## Installation\n---------------\n\nThe detailed instructions for installation of Python and CodeCarbon are found in the [prior lesson](https://esciencecenter-digital-skills.github.io/green-digital-skills/modules/software-development-handson/exercises_codecarbon). It is assumed that you have already followed these steps.\n\nIf you have not done so, [install R and RStudio](https://posit.co/download/rstudio-desktop/). Note that these demonstrations were conducted under R version 4.4.0 and RStudio 2024.04.0, so it is recommended that you install these or more recent versions.\n\nLastly, all the necessary materials and R scripts for this tutorial can be downloaded from Zenodo (doi: [10.5281/zenodo.14617645](https://doi.org/10.5281/zenodo.14617645)). You can also download the ZIP file by [following this link](https://zenodo.org/records/14617645/files/UtrechtUniversity/code-carbon-r-v1.0.0.zip?download=1), unpack it, and place it in a familiar folder in your computer. \n\n## Calling CodeCarbon in an R script\n-------------------------------------\n\nYou will found a sample R script named **code-carbon-script.R** inside the *R folder* if you successfully downloaded the material with the prior steps. This script can be adapted to test your own R code. It incorporates the following steps:\n\nFirst, you will need to install the `reticulate` package and load it into your session:\n\n```         \ninstall.packages(\"reticulate\")\nlibrary(reticulate)\n```\n\nLoad the CodeCarbon module using the reticulate [`import`](https://rstudio.github.io/reticulate/reference/import.html) function.\n\n```         \ncodecarbon \u003C- import(\"codecarbon\")\n```\n\nImport the OfflineEmissionsTracker class\n\n```         \nOfflineEmissionsTracker \u003C- codecarbon$OfflineEmissionsTracker\n```\n\nSet the emissions trackers parameter and initialize. This will automatically detect your system's characteristics and open a file to save the report later on. You can also specify the country code, timing of measurements, among others. See the [CodeCarbon documentation](https://mlco2.github.io/codecarbon/parameters.html#id6) for more details:\n\n```         \ntracker \u003C- OfflineEmissionsTracker(\n  country_iso_code = \"NLD\",\n  measure_power_secs = 5\n)\n```\n\nStart tracking the emissions, run your code, and finish tracking once your code ran.\n\n```         \ntracker$start()\n\n# Your R code here\n\ntracker$stop()\n```\n\nThis will terminate the report and save it in your default working directory, unless you specified earlier the path to save it according to the provided documentation.\n\nNote that CodeCarbon will continue to track until you explicitly stop it with `tracker$stop()`. Thus, you may want to run all lines of code from start -\\> code -\\> stop in one go to measure the consumption of that specific code.\n\n## Calling CodeCarbon in a Quarto markdown (qmd) file in RStudio\n----------------------------------------------------------------\n\nIf you use Quarto, you can call Python and R code in the same document, using their native syntax. For this, you can specify the language of the code block using the `python` or `r` tags:\n\n\n```\n{python}\n# Your python code here\n``` \n\n```\n{r}\n# Your R code here\n```\n\nThe advantage of using Quarto is that you don't need to rewrite python code using the `reticulate` syntax. You can simply copy and paste the Python code into the `python` code block. This is a great advantage when you are not very familiar with Python and you want to reuse well-documented native python code, or simply to efficiently communicate with Python programmers.\n\nBecause Rstudio loads the reticulate package once it reads the `python` tag, you don't need to load the `reticulate` package in the code block. Thus, we will start by calling the CodeCarbon module in Python.\n\n### Setup \n\nIn the downloaded folder, you will find an R project icon named **code-carbon-R.Rproj**. Open this project in RStudio. This will set a default working directory, which is useful to read the associated scripts and save the emissions reports. Now, navigate to the **R** folder, where you will find a document called **code-carbon-Quarto.qmd**. You may open this file in RStudio to reproduce the following steps in the corresponding section. \n\n> *Tip: The rest of this tutorial can be followed through the code-carbon-Quarto.qmd file in RStudio.*\n\n### Instructions  \n\nStart by pressing the play button below that reads \"Run Current Chunk\":\n\n```\n{python}\n# Load the CodeCarbon module\nfrom codecarbon import OfflineEmissionsTracker\n```\n\nThen, we will initialize the tracker and start tracking the emissions. Beware that you will need to stop tracking the emissions before with the code that will appear later on in this document to start a new tracker. For this, we can use a safety check to avoid running multiple trackers at the same time.\n\n```\n{python}\ntracker = OfflineEmissionsTracker(country_iso_code=\"NLD\",\n                                 measure_power_secs=5)\n\nif getattr(tracker, \"_start_time\", None) is not None:\n    print(\"Warning: Tracker is already running! Did you forget to stop it?\")\nelse:\n    tracker.start()\n    print(\"Tracker started successfully.\")\n```\n\nYou can now change to R language by using the `r` tag. In this code block, you can introduce your R code. For example, a fictitious computationally intensive function for which you would like to test its energy consumption.\n\n``` \n{r}\nintense_computation(large_dataset)\n```\n\nFinally, you can stop tracking the emissions and print the results. You will again find the report as a csv file in your default working directory.\n\n\n```\n{python}\nemissions: float = tracker.stop()\nprint(f\"Emissions tracked: {emissions} kg CO₂e\")\n```\n\nThis value represents the estimated carbon emissions equivalent in kilograms.\n\nCombining R and Python code in a .qmd file will work best if you are rendering your document to any of the output report files implemented in Quarto (i.e., PDF, html, docx, slides, etc). This is because code blocks are executed in the order they are found in the document. However, if you mainly work with R scripts, running CodeCarbon with the `reticulate` package in R will be the best approach.\n\nFor the last part of this tutorial, a hybrid approach is used where:\n1.  Individual R scripts are adapted from the sample **code-carbon-script.R** to include CodeCarbon tracking for every individual task.  \n2.  The individual R scripts are then sourced into the Quarto document to demonstrate the energy consumption and carbon footprint of different R packages used to fit mixed-effects models.  \n3.  This model workflow produces an individual output report for every R script and task, which will be found in the `emissions` folder. \n\nThis approach offers the advantage of more precise measurements because every script starts with the initialization of the tracker and ends with the stop command in one go.\n\n## Demonstration\n----------------\n\nWe will compare two R packages commonly used to fit mixed-effects models that are often compared due to their computational speed. `lme4` is suitable for generalized linear mixed models, runs in C++, and is optimized for speed,\u003Csup>1\u003C/sup> whereas `nlme` can additionally fit non-linear models, but is written in R language (before: S and S-Plus)\u003Csup>2\u003C/sup> which makes computations somewhat slower and with a potentially higher carbon footprint.\n\nHowever, there are often preliminary modelling steps needed when trying to elucidate the main effects with these two packages. One example is time varying confounding, for which different modelling approaches have been proposed. Inverse probability weighting (IPW) is a powerful tool for such analyses, but many different models can be used to obtain inverse probability weights to be used in the main mixed-effects models. Generalized linear models can be used as a fast an computationally efficient option to obtain IPW through the built-in `stats` R package, which is written in R and C language, but is highly susceptible to incorrect model specification. Novel non-parametric methods are robust to model misspecification,\u003Csup>3\u003C/sup> and are implemented in the `CBPS` package, which despite running in C++ for computational efficiency, uses intensive and lengthy calculations. These two methods will be compared using Python `CodeCarbon`. We will use the `WeightIt` package written in R language,\u003Csup>4\u003C/sup> which has implemented these two methods and many others which can similarly be tested and compared in terms of energy consumption and carbon footprint.\n\nWe will use the built-in R `ChickWeight` dataset to simulate new data with time-varying treatment-outcome confounding to study the effect of 4 different diets on weight, by accounting for the confounding effect of a time-varying binary disease 1, and an ordinal disease 2, which disease status may also vary in time.\n\nFirst, install and load all the necessary R packages to avoid these one-time installations being tracked by CodeCarbon. The `pacman` package nicely handles installation and loading.\n\n``` {.r .cell-code}\nif (!require(\"pacman\", quietly = TRUE)) {\n  install.packages(\"pacman\")\n}\n\npacman::p_load(\n  tidyverse,        # Used for basic data handling and visualization.\n  conflicted,       # Used to handle conflicts between packages.\n  reticulate,       # Used to call Python code in R.\n  lme4,             # Used to fit linear mixed-effects models.\n  nlme,             # Used to fit non-linear mixed-effects models.\n  WeightIt,         # Used to obtain inverse probability weights (IPW).\n  CBPS              # Used to obtain non-parametric CBPS IPW.\n)\n\nconflicts_prefer(dplyr::select, dplyr::lag, dplyr::filter)\n```\n\n\nWe now simulate the data and measure the time required to complete and it's carbon footprint. The input and output parameters have been adapted in the R script to save the output file in the `emissions` folder. By running this chunk of code, you will also see the live emissions tracking as R console output.\n\n> Important! If the code is interrupted before finishing, emissions will keep to be tracked and shown until you stop it by running the last line in the scripts. This is important to keep in mind when running new code chunks and start a new tracker. Run tracker\\$stop() whenever your code is prematurely interrupted before reaching the end of the script.\n\nTip: If any of the scripts take too long to run, you can try modifying the `sample_size` parameter in the **data_simulation.R** script. This will also be changed below in this code file to explore emissions with different sample sizes.\n\n``` {.r .cell-code}\nsource(\"data-simulation.R\")\n```\n\nLet's now measure the energy consumption of obtaining inverse probability weights with a generalized linear model (glm) in the built-in `stats` R package.\n\n\n``` {.r .cell-code}\nsource(\"ipw_glm.R\")\n```\n\n\nAnd compare against the novel non-parametric method implemented in the `CBPS` package. This will take longer to run than the prior steps, so we will track emissions every 5 seconds.\n\n``` {.r .cell-code}\nsource(\"ipw_CBPS.R\")\n```\n\n> Question: Would you prefer the faster glm method or the more robust CBPS method to obtain IPW? \n\nFinally, we will fit the mixed-effects models with the `lme4` and `nlme` packages, and compare their energy consumption.\n\n``` {.r .cell-code}\nsource(\"mixed_model_lme4.R\")\n```\n\n``` {.r .cell-code}\nsource(\"mixed_model_nlme.R\")\n```\n\n### Simulation with a larger dataset\n\n\nThe original tests used 550 observations in a total of 50 chicks. This was sufficient to demonstrate the differences in emissions with the two IPW methods, but not with the different mixed-effects packages. We will next simulate a much larger dataset with 5000 chicks to be able to compare `lme4` and `nlme`.\n\n\n``` {.r .cell-code}\n# Simulate new data and prepare the dataset for analysis \n\nsimulated_data \u003C- simulate_chickweight(n_chicks = 5000)\n\nanalysis_data \u003C- simulated_data %>%\n  arrange(Chick, Time) %>%\n  group_by(Chick) %>%\n  mutate(\n    lag_disease_1 = lag(disease_1),\n    lag_disease_2 = lag(disease_2),\n    lag_weight = lag(weight)\n  ) %>%\n  ungroup()\n\nanalysis_data \u003C- analysis_data %>%\n  filter(!is.na(lag_disease_1))\n```\n\n\nWe will use the IPW obtained with glm for faster computations.\n\n\n``` {.r .cell-code}\nsource(\"ipw_glm.R\")\n```\n\nAnd now we can compare the energy consumption of fitting the exact same model with the `lme4` and `nlme`.\n\n\n``` {.r .cell-code}\nsource(\"mixed_model_lme4.R\")\n```\n\n``` {.r .cell-code}\nsource(\"mixed_model_nlme.R\")\n```\n\n> Question: How do the energy consumption and carbon footprint of the two packages compare with the larger dataset when fitting the same model? \n\n## Conclusions\n---------------\n\nThis tutorial provides different alternatives to implement CodeCarbon in R workflows. The provided code can be adapted and used by R code developers and other R users to test the efficiency and carbon footprint of their code. Existing R packages able to perform the same tasks can be compared in terms of energy consumption, which can be an additional criterion to choose between them. However, it should be kept in mind that energy consumption an carbon footprint are among the many factors to consider when choosing between different packages. For instance, it could be justifiable to use a method that consumes more energy and has a higher carbon footprint if it offers other significant advantages. \n\n\n## References \n---------------\n\n1.  Bates, Douglas, Martin Mächler, Ben Bolker, and Steve Walker. 2015. “Fitting Linear Mixed-Effects Models Using Lme4.” Journal of Statistical Software 67 (1). https://doi.org/10.18637/jss.v067.i01.\n\n2.  Fong, Christian, Chad Hazlett, and Kosuke Imai. 2018. “Covariate Balancing Propensity Score for a Continuous Treatment: Application to the Efficacy of Political Advertisements.” The Annals of Applied Statistics 12 (1). https://doi.org/10.1214/17-aoas1101.\n\n3.  Greifer, Noah. 2017. “WeightIt: Weighting for Covariate Balance in Observational Studies.” The R Foundation. https://doi.org/10.32614/cran.package.weightit.\n\n4.  Pinheiro, José C., and Douglas M. Bates. 2000. Mixed-Effects Models in s and s-PLUS. New York: Springer. https://doi.org/10.1007/b98882.","default",["ShallowRef",1014],["ShallowReactive",1015],{"/modules/software-development-handson/excercises-code-carbon-r":1016},[1017,1027],{"_path":1018,"_dir":1019,"_draft":9,"_partial":9,"_locale":10,"title":1020,"description":10,"type":1021,"order":1022,"_type":1005,"_id":1023,"_source":1007,"_file":1024,"_stem":1025,"_extension":1010,"plainText":1026},"/modules/optimizing-energy-use/useful_links","optimizing-energy-use","Useful Links","reading",4,"local_fs:modules:optimizing-energy-use:useful_links.md","modules/optimizing-energy-use/useful_links.md","modules/optimizing-energy-use/useful_links","---\ntitle: Useful Links\ntype: reading\norder: 4\n---\n\n## Reading material\n* \u003Chttps://www.sciencedirect.com/science/article/abs/pii/S0167642321000022>\n* \u003Chttps://link.springer.com/content/pdf/10.1186/1471-2105-9-82.pdf>\n* \u003Chttps://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=876288&casa_token=t3_vJU1MZzoAAAAA:XFmC7USWBN185EN6njXKePUjsByVwm-VWrYvnrYQrFzDE5hdJOereEfSu3y4zS3BBoFdUF_5cPY&tag=1>\n",{"_path":1028,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":1029,"description":10,"type":12,"order":1022,"_type":1005,"_id":1030,"_source":1007,"_file":1031,"_stem":1032,"_extension":1010,"plainText":1033},"/modules/software-development-handson/exercises_cicd","CI/CD optimization","local_fs:modules:software-development-handson:exercises_cicd.md","modules/software-development-handson/exercises_cicd.md","modules/software-development-handson/exercises_cicd","---\ntitle: CI/CD optimization\ntype: exercise\norder: 4\n---\n\n# Make your automated testing framework use less energy\n\n## Testing is necessary\nA robust testing framework is an essential part of good software development practices. It is even more vital in a research environment since wrong or misleading scientific results may be caused by bad or insufficient testing. Automated testing aids in scientific reproducibility and reduces the amount of time wasted trying to go back to find which version still worked with a given feature.\n\nIf you are unsure about what a testing framework is or how to set one up, you can learn about it in the [Good Practices](exercises_good-practices) exercises of this hands-on module (specifically, it is [step 4](exercises_good-practices#_4-testing). Adding tests to your scientific code is a good step towards avoiding wasted energy in the long run.\n\n\n## Testing uses energy\nDespite the need for it, testing necessarily uses energy. By adding a testing suite to your software you are making the value judgement that the benefits are worth the additional energy cost of running automatic tests.\n\nBut there are ways to mimimize the amount of energy used.\nThe defaults used by most people when adding automated tests to their code base are often wasteful, due to many tests being run when it is not necessary.\n\n## Reduce energy waste from unnecessary testing\nIn the following we address some relatively simple changes that can be made to reduce the unnecessary running of tests.\nThe solutions are given for projects that use `pytest` (the ubiquitous python testing framework) and automation using features of [GitHub](www.github.com), which is a very common place to host code repositories. However, if you are using a different language (e.g. `R`) or you do not use GitHub (maybe GitLab, bitbucket etc) then the general principle should still apply. It may be possible to recreate the same changes by modifying the relevant configuration (we will try to help where we can).\n\n### 1. Cancel running workflows on a new push\nBy default, it is often the case that currently running tests continue to completion, even if you have pushed new changes to the branch. While that may be desirable in some cases, it is most often not wanted. The user is most interested in whether the newest version of a branch is passing the tests or not.\n\nLuckily, it is possible to [automatically cancel running tests if new code is pushed to the branch](https://docs.github.com/en/enterprise-cloud@latest/actions/writing-workflows/choosing-what-your-workflow-does/control-the-concurrency-of-workflows-and-jobs#example-using-concurrency-and-the-default-behavior).\n\n### 2. Only re-run tests that failed\nUse the `pytest --last-failed` command by exploiting the gh actions cache functionality using a ready-made github action:\n* pytest-last-failed: \u003Chttps://github.com/sjvrijn/pytest-last-failed>\n\n### 3. Set the workflow trigger appropriately for each part of the test framework\nTest workflows are triggered to run when a particular event happens. To avoid tests running unnecessarily, it is important to ensure that this trigger is set correctly.\n\nCertain test workflows do not need to run on every push, for example, and could be configured to only run on merges to the main branch (or on tagging releases).\n\n[GitHub docs on triggering workflows](https://docs.github.com/en/actions/writing-workflows/choosing-when-your-workflow-runs/events-that-trigger-workflows)\n\n\n### 4. Test on different platforms/versions that make sense\nIt is possible to run your automated tests on several platforms (e.g. different versions of Ubuntu, MacOS and Windows) and also on different kinds of software stack (different libraries, `python` versions etc.). On GitHub, for example, this can be done using [`matrix` strategies](https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/running-variations-of-jobs-in-a-workflow). This is generally desirable, in order to ensure portability across systems.\n\nHowever, testing all these combinations comes at a cost. It is important to think about how many users you have (maybe it is just you and some colleagues) and whether what you are testing is actually necessary. For example, supporting every python version from the last 10 years is probably overkill and will waste a lot of energy.\n\n\n### 5. Create dependencies between tests\n\nContinuing to run all tests when one has failed does not always make sense. For example, if a basic linting step has failed, it may be desirable not to run the remaining test suite until that is fixed.\n\nWith GitHub actions this is possible by making dependencies between your jobs: [see relevant example here](https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/using-jobs-in-a-workflow#example-requiring-successful-dependent-jobs).\n\nAlterntively, you may wish to only run the linting tests once the basic tests pass (i.e. no point linting broken code). Which way of adding dependencies is best at reducing unnecessary tests running is dependent on your specific setup.\n\n\n### Other tools/plugins worth a look\n\nA possible alternative to `pytest-last-failed`:\n* pytest-testmon: \u003Chttps://github.com/tarpas/pytest-testmon>, a pytest plugin that only runs tests that concern code that has been affected by changes (interesting but challenging, and possibly unreliable)\n\n\n## Conclusion\nTesting is essential to reducing waste in research software development, but can cause significant energy consumption itself. This is due to the way most testing frameworks are by default configured to run all of the tests, all of the time. By following some or all of the above changes, you can likely save energy by reducing a lot of pointless tests being run.\n\n",["ShallowRef",1035],{},[1037,1040,1043,1046,1059,1159],{"title":1038,"_path":1039},"Config","/config",{"title":1041,"_path":1042},"Hello world","/",{"title":1044,"_path":1045},"LICENSE","/license",{"title":1047,"_path":1048,"children":1049},"Main","/main",[1050,1053,1056],{"title":1051,"_path":1052},"About","/main/about",{"title":1054,"_path":1055},"Contribute","/main/contribute",{"title":1057,"_path":1058},"Workshops","/main/workshops",{"title":1060,"_path":1061,"children":1062},"Modules","/modules",[1063,1083,1106,1122,1130,1141],{"title":1064,"_path":1065,"children":1066},"Environmental Impact","/modules/environmental_impact",[1067,1070,1071,1074,1077,1080],{"title":1068,"_path":1069},"Exercises","/modules/environmental_impact/exercises",{"title":1064,"_path":1065},{"title":1072,"_path":1073},"Learning objectives","/modules/environmental_impact/info",{"title":1075,"_path":1076},"Energy","/modules/environmental_impact/slides_energy_budget",{"title":1078,"_path":1079},"Carbon","/modules/environmental_impact/slides_energy_budget_part_2",{"title":1081,"_path":1082},"Useful links","/modules/environmental_impact/useful_links",{"title":1084,"_path":1085,"children":1086},"High Performance Computing","/modules/hpc-handson",[1087,1090,1092,1095,1096,1098,1100,1103],{"title":1088,"_path":1089},"EARL","/modules/hpc-handson/earl",{"title":1068,"_path":1091},"/modules/hpc-handson/exercises",{"title":1093,"_path":1094},"Reading material","/modules/hpc-handson/further_reading",{"title":1084,"_path":1085},{"title":1072,"_path":1097},"/modules/hpc-handson/info",{"title":32,"_path":1099},"/modules/hpc-handson/introduction",{"title":1101,"_path":1102},"HPC Hands-on","/modules/hpc-handson/slides_hpc",{"title":1104,"_path":1105},"EAR Tools","/modules/hpc-handson/tools",{"title":32,"_path":1107,"children":1108},"/modules/introduction-handson",[1109,1112,1115,1117,1118,1120],{"title":1110,"_path":1111},"Why care?","/modules/introduction-handson/ex_motivation",{"title":1113,"_path":1114},"Green workplace","/modules/introduction-handson/ex_workfloor",{"title":1093,"_path":1116},"/modules/introduction-handson/further_reading_module1",{"title":32,"_path":1107},{"title":1072,"_path":1119},"/modules/introduction-handson/info",{"title":32,"_path":1121},"/modules/introduction-handson/sl_introduction-handson",{"title":32,"_path":1123,"children":1124},"/modules/introduction",[1125,1126,1128],{"title":32,"_path":1123},{"title":1072,"_path":1127},"/modules/introduction/info",{"title":32,"_path":1129},"/modules/introduction/slides",{"title":1131,"_path":1132,"children":1133},"Optimizing Energy Usage","/modules/optimizing-energy-use",[1134,1135,1137,1140],{"title":1131,"_path":1132},{"title":1072,"_path":1136},"/modules/optimizing-energy-use/info",{"title":1138,"_path":1139},"Optimizing in Practice","/modules/optimizing-energy-use/slides_optimizing_energy_use",{"title":1020,"_path":1018},{"title":1142,"_path":1143,"children":1144},"Software Development","/modules/software-development-handson",[1145,1146,1147,1150,1153,1156,1157],{"title":11,"_path":7},{"title":1029,"_path":1028},{"title":1148,"_path":1149},"Code Carbon","/modules/software-development-handson/exercises_codecarbon",{"title":1151,"_path":1152},"Good Practices","/modules/software-development-handson/exercises_good-practices",{"title":1154,"_path":1155},"Extra material","/modules/software-development-handson/further_reading_module1",{"title":1142,"_path":1143},{"title":1072,"_path":1158},"/modules/software-development-handson/info",{"title":1160,"_path":1161},"Green Digital Skills","/readme",["Set"],["ShallowReactive",1164],{"content-query-AT44bg6JPw":1165,"content-query-IzkN7qF8et":1165},null,true,1739923546285]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{title:"Green Digital Skills",baseURL:"green-digital-skills",repoName:"green-digital-skills",repoOwner:"esciencecenter-digital-skills",organization:"Netherlands eScience Center and SURF",organizationURL:"https://www.esciencecenter.nl",organizationLogo:"/green-digital-skills/main/media/nlesc-surf.svg",categoryOrder:["Lecture","Workshop"],style:"nlesc",mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1739923531214,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:["layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:false,wsUrl:"",documentDriven:{page:true,navigation:true,surround:true,globals:{},layoutFallbacks:["theme"],injectPage:true},host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/green-digital-skills",buildId:"bba5b939-a6b2-42dd-b0a2-b2918b0f05c3",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>